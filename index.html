<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××œ ×¢×¦××™</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="××¤×œ×™×§×¦×™×” ×œ× ×™×”×•×œ ×¨×’×©×™ ×™×•××™×•××™ ×•××“×™×˜×¦×™×•×ª">
    <meta name="theme-color" content="#8cb89c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="××œ ×¢×¦××™">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- PWA Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="el_eztmi_logo_optimized.png">
    <link rel="icon" type="image/png" sizes="16x16" href="el_eztmi_logo_optimized.png">
    <link rel="apple-touch-icon" href="el_eztmi_logo_optimized.png">
    <link rel="manifest" href="manifest.json">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Alef:wght@400;700&family=Assistant:wght@300;400;500;600;700&family=Rubik:wght@300;400;500;600;700&family=Heebo:wght@300;400;500;600;700&family=Varela+Round&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #F9F9F7 0%, #F2F1ED 50%, #FAFAF8 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(249, 249, 247, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(140, 184, 156, 0.1);
            border: 1px solid rgba(140, 184, 156, 0.3);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }
        
        .logo {
            max-width: 300px;
            height: auto;
            margin-bottom: 10px;
        }
        
        .header h1 {
            font-family: 'Varela Round', 'Alef', 'Heebo', 'Rubik', 'Assistant', sans-serif;
            color: #8cb89c;
            font-size: 3.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(140, 184, 156, 0.15);
            font-weight: 600;
            letter-spacing: 1px;
        }
        
        .header p {
            color: #D4B896;
            font-size: 1.2em;
            font-weight: 300;
        }
        
        .nav-btn {
            background: transparent;
            color: #3a3a3a;
            border: none;
            padding: 12px 4px;
            cursor: pointer;
            font-size: 19px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover {
            color: #111827;
        }
        
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #D4B896;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .calendar-header {
            background: #8cb89c;
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: 600;
        }
        
        .calendar-day {
            background: #F9F9F7;
            padding: 15px;
            min-height: 80px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            border: 1px solid rgba(212, 184, 150, 0.5);
        }
        
        .calendar-day:hover {
            background: #F4F4F2;
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(140, 184, 156, 0.15);
        }
        
        .calendar-day.other-month {
            background: #f5f0eb;
            color: #b5a397;
        }
        
        .calendar-day.today {
            background: linear-gradient(45deg, #8cb89c, #7AA689);
            color: white;
            font-weight: 600;
        }
        
        .calendar-day.has-entry {
            background: linear-gradient(45deg, #c7aca6, #bfa19b);
            color: white;
        }
        
        .day-number {
            font-weight: 600;
            font-size: 1.1em;
            color: #737373;
        }
        
        .calendar-day.today .day-number,
        .calendar-day.has-entry .day-number {
            color: white;
        }
        
        .day-special-icon {
            font-size: 14px;
            position: absolute;
            top: 5px;
            left: 5px;
            opacity: 0.9;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: #F9F9F7;
            margin: 2% auto;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(140, 184, 156, 0.2);
            border: 1px solid rgba(140, 184, 156, 0.3);
        }
        
        .close {
            position: absolute;
            top: 15px;
            left: 25px;
            color: #b5a397;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .close:hover {
            color: #8cb89c;
        }
        
        .modal h2 {
            color: #C86F7B;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.8em;
            font-weight: 600;
        }
        
        .section {
            background: #F4F4F2;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 15px;
            border-right: 5px solid #D4B896;
            border: 1px solid rgba(212, 184, 150, 0.2);
        }
        
        .section h3 {
            color: #C86F7B;
            margin-bottom: 15px;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .section.collapsed {
            background: #f0f4f8;
            border-right-color: #a0aec0;
        }
        
        .section.collapsed .section-content {
            display: none;
        }
        
        .section-toggle {
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* Arrow for collapsible sections */
        .section-toggle::after {
            content: "â–¼";
            transition: transform 0.3s ease;
            color: #667eea;
            font-size: 14px;
        }
        
        .section.collapsed .section-toggle::after {
            transform: rotate(-90deg);
        }
        
        .warning-section {
            background: #fffbf0;
            border: 2px solid #f6ad55;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            color: #744210;
        }
        
        .warning-section h4 {
            color: #c05621;
            margin-bottom: 10px;
        }
        
        .mood-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        
        .mood-btn {
            padding: 10px 15px;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2em;
        }
        
        .mood-btn.selected {
            background: #8cb89c;
            color: white;
            border-color: #8cb89c;
        }
        
        .reference-btn {
            background: #98bfa6;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 10px;
            transition: all 0.3s ease;
        }
        
        .reference-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(152, 191, 166, 0.3);
            background: #87b095;
        }
        
        /* Google Sign-In */
        .google-signin-btn {
            background: #ffffff;
            color: #4285f4;
            border: 2px solid #4285f4;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .google-signin-btn:hover {
            background: #4285f4;
            color: white;
        }
        .google-icon { width: 20px; height: 20px; }
        
        textarea, input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 19px;
            font-family: inherit;
            resize: vertical;
            min-height: 100px;
            transition: border-color 0.3s ease;
        }
        
        textarea:focus, input:focus {
            outline: none;
            border-color: #8cb89c;
            box-shadow: 0 0 0 3px rgba(140, 184, 156, 0.1);
        }
        
        .breathing-exercise {
            text-align: center;
            padding: 20px;
        }
        
        .breathing-circle {
            width: 150px;
            height: 150px;
            border: 3px solid #8cb89c;
            border-radius: 50%;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            color: #8cb89c;
            background: transparent;
            box-shadow: 0 0 0 rgba(140, 184, 156, 0);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .breathing-circle::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            background: rgba(152, 191, 166, 0.3);
            z-index: -1;
        }
        
        .breathing-btn {
            font-weight: bold !important;
            font-size: 18px !important;
        }
        
        .support-message {
            background: linear-gradient(45deg, #C86F7B, #B55E6A);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.1em;
            margin-bottom: 20px;
            position: relative;
        }
        
        .quote-content {
            font-size: 1.1em;
            line-height: 1.5;
        }
        
        .quote-symbol {
            font-size: 1.5em;
            color: rgba(255, 255, 255, 0.8);
            margin: 0 8px;
            vertical-align: middle;
        }
        
        .save-btn {
            background: linear-gradient(45deg, #8cb89c, #7AA689);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
            margin-top: 20px;
            transition: all 0.3s ease;
        }
        
        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(140, 184, 156, 0.4);
        }
        
        .analysis-section {
            background: #F4F4F2;
            border-right-color: #C86F7B;
        }
        
        .analysis-section h3 {
            color: #C86F7B;
        }
        
        .pin-section {
            background: #F9F5E6;
            border: 2px solid #D4B896;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .pin-input {
            width: 200px;
            padding: 15px;
            font-size: 24px;
            text-align: center;
            letter-spacing: 5px;
            border: 2px solid #8cb89c;
            border-radius: 10px;
            margin: 10px;
        }
        
        /* Remember Me Checkbox Styling */
        .remember-me-box {
            margin: 1px 0;
            text-align: center;
        }
        
        .remember-me-label {
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 14px;
            color: #6b7280;
            gap: 6px;
        }
        
        .remember-me-label input[type="checkbox"] {
            width: 16px;
            height: 16px;
            cursor: pointer;
            accent-color: #8cb89c;
            margin: 0;
        }
        
        .remember-me-box p {
            font-size: 11px;
            color: #999;
            margin: 1px 0 0 0;
        }
        
        /* Google Sign-In Button Centering */
        .google-signin-btn {
            display: block;
            margin: 0 auto 1px auto;
        }
        
        /* Reduce spacing between login cards */
        .login-card {
            margin-bottom: 4px;
        }
        
        .login-card--google {
            margin-bottom: 3px;
        }
        
        .login-card--local {
            margin-top: 3px;
        }
        
        /* Reduce spacing within login cards */
        .login-card h3 {
            margin-bottom: 3px;
        }
        
        .login-card p {
            margin-bottom: 4px;
        }
        
        .help-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1001;
            backdrop-filter: blur(5px);
        }
        
        .help-content {
            background: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }
        
        .export-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }
        
        .export-btn {
            background: linear-gradient(45deg, #c6b79b, #B9A488);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .export-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(198, 183, 155, 0.3);
        }
        
        .reference-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1002;
            backdrop-filter: blur(5px);
        }
        
        .reference-content {
            background: white;
            margin: 2% auto;
            padding: 20px;
            border-radius: 20px;
            width: 95%;
            max-width: 1000px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            text-align: center;
        }
        
        /* New Side Panel for Meditations */
        .meditations-side-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1003;
            backdrop-filter: blur(3px);
        }
        
        /* New Side Panel for Emotions Reference */
        .emotions-side-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1003;
            backdrop-filter: blur(3px);
        }
        
        .meditations-panel-content {
            position: fixed;
            top: 0;
            left: -100%;
            width: 90%;
            max-width: 400px;
            height: 100%;
            background: #f8f9fa;
            overflow-y: auto;
            transition: left 0.3s ease;
            box-shadow: 2px 0 20px rgba(0,0,0,0.2);
        }
        
        .meditations-side-panel.active .meditations-panel-content {
            left: 0;
        }
        
        .meditations-panel-header {
            background: #98bfa6;
            color: white;
            padding: 20px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .meditations-panel-header h2 {
            margin: 0;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .meditations-close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s ease;
        }
        
        .meditations-close-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .meditations-panel-body {
            padding: 20px;
        }
        
        .emotions-panel-content {
            position: fixed;
            top: 0;
            left: -100%;
            width: 90%;
            max-width: 500px;
            height: 100%;
            background: #f8f9fa;
            overflow-y: auto;
            transition: left 0.3s ease;
            box-shadow: 2px 0 20px rgba(0,0,0,0.2);
        }
        
        .emotions-side-panel.active .emotions-panel-content {
            left: 0;
        }
        
        .emotions-panel-header {
            background: #98bfa6;
            color: white;
            padding: 20px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .emotions-panel-header h2 {
            margin: 0;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .emotions-close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s ease;
        }
        
        .emotions-close-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .emotions-panel-body {
            padding: 20px;
        }
        
        /* New Side Panel for Needs Reference */
        .needs-side-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1003;
            backdrop-filter: blur(3px);
        }
        
        .needs-panel-content {
            position: fixed;
            top: 0;
            left: -100%;
            width: 90%;
            max-width: 500px;
            height: 100%;
            background: #f8f9fa;
            overflow-y: auto;
            transition: left 0.3s ease;
            box-shadow: 2px 0 20px rgba(0,0,0,0.2);
        }
        
        .needs-side-panel.active .needs-panel-content {
            left: 0;
        }
        
        .needs-panel-header {
            background: #98bfa6;
            color: white;
            padding: 20px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .needs-panel-header h2 {
            margin: 0;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .needs-close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s ease;
        }
        
        .needs-close-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .needs-panel-body {
            padding: 20px;
        }
        
        .meditations-category {
            margin-bottom: 25px;
            padding: 15px;
            background: white;
            border-radius: 12px;
            border-left: 4px solid #98bfa6;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .meditations-category h3 {
            color: #4a5568;
            margin-bottom: 12px;
            font-size: 1.1em;
            font-weight: 600;
        }
        
        .meditations-link {
            color: #4a5568;
            text-decoration: none;
            font-size: 14px;
            padding: 10px 12px;
            margin: 0;
            display: block;
            border-radius: 8px;
            transition: all 0.2s ease;
            border: 1px solid transparent;
            background: #f8f9fa;
        }
        
        .meditations-link:hover {
            background: #98bfa6;
            color: white;
            border-color: #98bfa6;
            transform: translateX(-3px);
        }
        
        .favorite-circle {
            cursor: pointer;
            margin-left: 15px;
            transition: all 0.3s ease;
            user-select: none;
            width: 32px;
            height: 32px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: transparent;
            font-size: 26px;
            color: #8cb89c;
            font-weight: 610;
            line-height: 1;
            vertical-align: middle;
            text-align: center;
            flex-shrink: 0;
        }
        
        .meditations-link:hover .favorite-circle {
            transform: scale(1.1);
        }
        
        /* Ensure stars are aligned */
        .meditations-link {
            text-align: right;
            flex: 1;
        }
        
        .filter-favorites-btn {
            background: #98bfa6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 17px;
            transition: all 0.3s ease;
        }
        
        .filter-favorites-btn:hover {
            background: #7fa892;
            transform: translateY(-1px);
        }
        
        .filter-favorites-btn.active {
            background: #68a27d;
        }
        
        /* Emotions Modal Text Sizing */
        #emotionsModal h2 {
            font-size: calc(1.4em + 0.5px);
        }
        
        #emotionsModal h3 {
            font-size: calc(1.2em + 0.5px);
        }
        
        #emotionsModal p {
            font-size: calc(16px + 0.5px);
        }
        
        #emotionsModal strong {
            font-size: calc(16px + 0.5px);
        }
        
        /* Needs Modal Text Sizing */
        #needsModal h2 {
            font-size: calc(1.4em + 0.5px);
        }
        
        #needsModal h3 {
            font-size: calc(1.2em + 0.5px);
        }
        
        #needsModal p {
            font-size: calc(16px + 0.5px);
        }
        
        #needsModal strong {
            font-size: calc(16px + 0.5px);
        }
        
        .meditations-link-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 6px 0;
        }
        
        .reference-image {
            max-width: 100%;
            max-height: 80vh;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        /* Login screen layout (match mock) */
        .login-title {
            font-family: 'Varela Round', 'Alef', 'Heebo', 'Rubik', 'Assistant', sans-serif;
            color: #374151;
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            margin: 6px 0 18px 0;
        }
        .welcome-title {
            font-family: 'Varela Round', 'Alef', 'Heebo', 'Rubik', 'Assistant', sans-serif;
            color: #C86F7B;
            font-size: 18px;
            font-weight: 700;
            text-align: center;
            margin: -6px 0 6px 0;
        }
        .login-card {
            background: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            text-align: right;
        }
        .login-card--google h3,
        .login-card--local h3 {
            font-size: 15px;
            color: #374151;
            margin-bottom: 6px;
        }
        .login-card--google p,
        .login-card--local p {
            color: #6b7280;
            font-size: 14px;
            margin-bottom: 10px;
        }
        .login-card--local { border-color: #cfe0d6; }
        .pin-box {
            background: #f5efe1;
            border: 1px solid #e6d7b9;
            border-radius: 10px;
            padding: 12px 12px 6px 12px;
            margin: 10px 0 6px 0;
        }
        .privacy-note {
            background: #d4e5da;
            border-radius: 10px;
            padding: 14px;
            font-size: 14px;
            color: #4b5563;
            margin-top: 10px;
        }

        /* Calendar hint spacing under greeting and above month */
        #mainApp .header { margin-bottom: 0 !important; }
        #mainApp .header p { margin-bottom: 0; }
        .calendar-hint {
            text-align: center;
            color: #6b7280;
            font-weight: 700;
            font-size: 19px;
            margin-top: 10px;   /* 10px under the greeting */
            margin-bottom: 35px; /* 35px above the month title */
        }
        
        @media (max-width: 768px) {
            .calendar {
                font-size: 0.9em;
            }
            
            .calendar-day {
                min-height: 60px;
                padding: 10px;
            }
            
            .modal-content {
                width: 95%;
                margin: 5% auto;
                padding: 20px;
            }
            
            .container {
                padding: 20px;
            }
            
            .header {
                margin-bottom: 80px;
            }
            
            /* keep actions fixed on mobile too */
            
            .export-options {
                justify-content: center;
                margin-top: 10px;
            }
            
            .header h1 {
                font-size: 2.5em;
                margin-bottom: 15px;
            }
            
            .favorite-circle {
                font-size: 30px;
                width: 36px;
                height: 36px;
                margin-left: 15px;
                min-width: 36px;
            }
        }
        
        /* Extra small screens */
        @media (max-width: 480px) {
            .favorite-circle {
                font-size: 34px;
                width: 40px;
                height: 40px;
                margin-left: 20px;
                min-width: 40px;
            }
        }

        /* Header actions (hamburger container) */
        .header-actions {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 10;
        }

        /* Hamburger side menu */
        .hamburger {
            background: transparent;
            border: none;
            color: #3f3f3f;
            font-size: 26px;
            line-height: 1;
            padding: 8px 10px;
            cursor: pointer;
            border-radius: 8px;
        }

        .hamburger:focus {
            outline: 2px solid rgba(0,0,0,0.1);
            outline-offset: 2px;
        }

        .menu-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.25);
            z-index: 1100;
        }

        .side-menu {
            position: fixed;
            top: 0;
            right: 0;
            height: 100vh;
            width: 280px;
            max-width: 85vw;
            background: #ffffff;
            box-shadow: -2px 0 16px rgba(0,0,0,0.12);
            transform: translateX(100%);
            transition: transform 0.3s ease;
            z-index: 1101;
            padding: 20px;
        }

        .side-menu.open {
            transform: translateX(0);
        }

        .side-menu .menu-close {
            position: absolute;
            top: 6px;
            left: 10px;
            background: transparent;
            border: none;
            font-size: 26px;
            color: #6b7280;
            cursor: pointer;
        }

        .side-menu .menu-list {
            list-style: none;
            margin: 0;
            padding: 40px 0 0 0;
        }

        .side-menu .menu-item {
            width: 100%;
            text-align: right;
            background: transparent;
            border: none;
            color: #3a3a3a;
            font-size: 16px;
            padding: 12px 4px;
            cursor: pointer;
        }

        .side-menu .menu-item:hover {
            color: #111827;
        }

        .menu-divider {
            border: none;
            border-top: 1px solid #eeeeee;
            margin: 8px 0;
        }
        
        .section-content {
            display: none;
            padding: 20px;
            background: white;
            border-radius: 0 0 10px 10px;
            margin-top: -10px;
            border: 1px solid #e2e8f0;
            border-top: none;
        }
        
        .section-content.show {
            display: block;
        }
        
        .meditation-btn {
            background: #98bfa6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16.5px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(152, 191, 166, 0.3);
            width: 100%;
            max-width: 250px;
            margin: 0 auto;
            display: block;
        }
        
        .meditation-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(152, 191, 166, 0.4);
            background: #87b095;
        }
        
        .meditation-link {
            color: #6b46c1;
            text-decoration: none;
            font-size: 17px;
            padding: 8px 12px;
            margin: 4px 0;
            display: block;
            border-radius: 8px;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }
        
        .meditation-link:hover {
            background: linear-gradient(45deg, rgba(159, 122, 234, 0.1), rgba(139, 92, 246, 0.1));
            border-color: rgba(159, 122, 234, 0.3);
            transform: translateX(-5px);
        }
        
        .meditation-category {
            margin-bottom: 30px;
            padding: 20px;
            background: #faf5ff;
            border-radius: 15px;
            border-left: 4px solid #9f7aea;
        }
        
        .meditation-category h3 {
            color: #6b46c1;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .meditation-grid {
            display: grid;
            gap: 8px;
        }
        
        #meditationsModal h3 {
            color: #C86F7B;
        }
        
        #meditationsModal a {
            color: #4a5568;
            text-decoration: none;
        }
        
        #meditationsModal a:hover {
            text-decoration: underline;
            color: #C86F7B;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="container" style="display: block;">
        <div class="header">
            <!-- Place for logo image - you'll need to replace the src with your actual image URL or base64 -->
            <img id="logoImage" 
                 src="logo.png" 
                 alt="××œ ×¢×¦××™ - ××¡×¢ ×©×œ ×”×§×©×‘×” ×•×”×ª×¨×—×‘×•×ª ×”×œ×‘" 
                 style="max-width: 350px; width: 80%; height: auto; margin: 20px auto 10px; display: block;"
                 onerror="this.style.display='none'; document.getElementById('fallbackTitle').style.display='block';">
            <div id="fallbackTitle" style="display: none;">
                <p>××¡×¢ ×©×œ ×”×§×©×‘×” ×•×”×ª×¨×—×‘×•×ª ×”×œ×‘</p>
            </div>
        </div>
        
        <div style="max-width: 520px; margin: 0 auto; text-align: center;">
            <div class="welcome-title" style="margin-bottom: 4px;">×‘×¨×•×›×” ×”×‘××” ğŸŒ¸</div>
            <div class="login-title" style="margin-bottom: 8px;">××™×š ×ª×¨×¦×™ ×œ×”×ª×—×‘×¨ ×›×“×™ ×œ×¦××ª ×œ××¡×¢ ×©×œ×š?</div>
                        <div class="login-card login-card--google">
                <h3 style="margin-bottom: 3px;">(××•××œ×¥) ×”×ª×—×‘×¨×•×ª ×¢× Google</h3>
                <p style="margin-bottom: 4px;">×”× ×ª×•× ×™× ×©×œ×š × ×©××¨×™× ×‘×¢× ×Ÿ ×•×–××™× ×™× ××›×œ ××›×©×™×¨</p>
                <button id="googleFallbackBtn" class="google-signin-btn" onclick="handleGoogleSignIn()">
                    <svg class="google-icon" viewBox="0 0 24 24">
                        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.54z"/>
                    </svg>
                    ×”×ª×—×‘×¨ ×¢× Google
                </button>
                
                <!-- Remember Me Checkbox for Google -->
                <div class="remember-me-box">
                    <label class="remember-me-label">
                        <input type="checkbox" id="rememberMeGoogleCheckbox">
                        <span>×”×©××¨ ××•×ª×™ ××—×•×‘×¨×ª</span>
                    </label>
                </div>
                
                <p style="font-size: 15px; color: #666; margin-top: 0px;">×”× ×ª×•× ×™× ×™×™×§×©×¨×• ×œ×—×©×‘×•×Ÿ ×”â€‘Google ×©×œ×š</p>
            </div>
            <div class="login-card login-card--local">
                <h3 style="margin-bottom: 3px;">×©×™××•×© ××§×•××™ ×‘×œ×‘×“</h3>
                <p style="margin-bottom: 4px;">×”× ×ª×•× ×™× ×™×™×©××¨×• ×¨×§ ×‘××›×©×™×¨ ×”×–×”</p>
                <div class="section" style="background: white; border: none; padding: 0;">
                    <input type="text" id="usernameInput" placeholder="...×”×©× ×©×œ×™" style="min-height: 50px; text-align: center; font-size: 18px;">
                </div>
                <div class="pin-box">
                    <h4 style="margin: 0 0 8px 0; color:#6b7280;">ğŸ” ×”×’× ×” ×¢× ×¡×™×¡×× (××•×¤×¦×™×•× ×œ×™)</h4>
                    <input type="password" id="pinInput" class="pin-input" placeholder="****" maxlength="8" pattern="[0-9]{4,8}" style="margin: 6px auto; display:block;">
                    <p style="font-size: 15px; color: #666; text-align:center; margin: 4px 0 0 0;">×”×©××™×¨×™ ×¨×™×§ ×× ××ª ×œ× ×¨×•×¦×” ×¡×™×¡××</p>
                </div>
                
                <!-- Remember Me Checkbox -->
                <div class="remember-me-box">
                    <label class="remember-me-label">
                        <input type="checkbox" id="rememberMeCheckbox">
                        <span>×”×©××¨ ××•×ª×™ ××—×•×‘×¨×ª</span>
                    </label>
                </div>
                
                <button class="save-btn" onclick="login()" style="margin-top: 4px;">×”×ª×—×œ×™ ×œ×œ× ×¡× ×›×¨×•×Ÿ âœï¸</button>
            </div>

            <div class="privacy-note">
                <strong>ğŸ”’ ×¤×¨×˜×™×•×ª ××œ××”:</strong><br>
                ×‘×›× ×™×¡×” ×¢× Google - ×”× ×ª×•× ×™× × ×©××¨×™× ×‘×—×©×‘×•×Ÿ Google Drive ×”×¤×¨×˜×™ ×©×œ×š<br>
                ×‘×›× ×™×¡×” ××§×•××™×ª - ×”× ×ª×•× ×™× × ×©××¨×™× ×¨×§ ×‘××›×©×™×¨ ×”×–×”
            </div>
        </div>
    </div>
    
    <!-- Help Modal -->
    <div id="helpModal" class="help-modal">
        <div class="help-content">
            <span class="close" onclick="closeHelp()" style="position: absolute; top: 15px; left: 25px;">&times;</span>
            <h2>ğŸ“š ××“×¨×™×š ×©×™××•×© - ×’×™×‘×•×™ ×•×©×—×–×•×¨</h2>
            
            <div class="section">
                <h3>â˜ï¸ ×¡× ×›×¨×•×Ÿ ×¢× Google Drive</h3>
                <p>×× ×”×ª×—×‘×¨×ª ×¢× ×—×©×‘×•×Ÿ Google, ×”× ×ª×•× ×™× ×©×œ×š × ×©××¨×™× ××•×˜×•××˜×™×ª ×‘×¢× ×Ÿ:</p>
                <p>â€¢ ×›×œ ×©×™× ×•×™ × ×©××¨ ××™×“ ×œ-Google Drive</p>
                <p>â€¢ × ×™×ª×Ÿ ×œ×’×©×ª ×œ× ×ª×•× ×™× ××›×œ ××›×©×™×¨</p>
                <p>â€¢ ×”×’×™×‘×•×™ ××ª×‘×¦×¢ ××•×˜×•××˜×™×ª</p>
            </div>
            
            <div class="section">
                <h3>ğŸ’¾ ×’×™×‘×•×™ ××§×•××™</h3>
                <p>×× ××ª ××©×ª××©×ª ×‘××¢×¨×›×ª ××§×•××™×ª:</p>
                <p>â€¢ ×œ×—×¦×™ ×¢×œ ×›×¤×ª×•×¨ "ğŸ’¾ ×©××™×¨×”" ×›×“×™ ×œ×™×™×¦× ××ª ×”× ×ª×•× ×™×</p>
                <p>â€¢ ×”×§×•×‘×¥ ×™×•×¨×“ ×œ××—×©×‘ ×©×œ×š</p>
                <p>â€¢ ×©××¨×™ ××•×ª×• ×‘××§×•× ×‘×˜×•×—</p>
            </div>
            
            <div class="section">
                <h3>ğŸ“‚ ×©×—×–×•×¨ × ×ª×•× ×™×</h3>
                <p>×›×“×™ ×œ×©×—×–×¨ × ×ª×•× ×™×:</p>
                <p>â€¢ ×œ×—×¦×™ ×¢×œ ×›×¤×ª×•×¨ "ğŸ“‚ ×©×™×—×–×•×¨"</p>
                <p>â€¢ ×‘×—×¨×™ ××ª ×§×•×‘×¥ ×”×’×™×‘×•×™ ×©×œ×š</p>
                <p>â€¢ ×”× ×ª×•× ×™× ×™×•×—×–×¨×• ××•×˜×•××˜×™×ª</p>
            </div>
            
            <div class="section">
                <h3>ğŸ“Š ×™×™×¦×•× ×œ××§×¡×œ</h3>
                <p>×›×“×™ ×œ×™×™×¦× ×œ××§×¡×œ:</p>
                <p>â€¢ ×œ×—×¦×™ ×¢×œ ×›×¤×ª×•×¨ "ğŸ“Š ××§×¡×œ"</p>
                <p>â€¢ ×”×§×•×‘×¥ ×™×•×¨×“ ×‘×¤×•×¨××˜ CSV</p>
                <p>â€¢ × ×™×ª×Ÿ ×œ×¤×ª×•×— ×‘-Excel ××• Google Sheets</p>
            </div>
        </div>
            </div>
            
    <!-- Meditations Library Modal -->
    <div id="meditationsModal" class="reference-modal">
        <div class="reference-content">
            <span class="close" onclick="closeMeditationsLibrary()" style="position: absolute; top: 15px; left: 25px;">Ã—</span>
            <h2 style="margin-bottom: 15px; color: #4a5568;">ğŸ§ ××•×¡×£ ××“×™×˜×¦×™×•×ª</h2>
            <div style="text-align: right; line-height: 1.8; padding: 15px; background: #f9f9f9; border-radius: 15px; max-height: 70vh; overflow-y: auto;">
                
                <!-- ×©×—×¨×•×¨ ×œ×—×¥ ×•×—×¨×“×” -->
                <div class="meditation-category">
                    <h3>ğŸŒŠ ×©×—×¨×•×¨ ×œ×—×¥ ×•×—×¨×“×”</h3>
                    <div class="meditation-grid">
                        <a class="meditation-link" href="https://www.meditationlibrary.net/×”×¤×¡×§×ª-××“×™×˜×¦×™×”-×‘×—××©-×“×§×•×ª/" target="_blank">×”×¤×¡×§×ª ××“×™×˜×¦×™×” ×œ×©×—×¨×•×¨ ××™×“×™ ××œ×—×¥</a>
                        <a class="meditation-link" href="https://youtu.be/GjbQKAyVgeo" target="_blank">×”×¨×¤×™×™×ª ×©×¨×™×¨×™× ×”×“×¨×’×ª×™×ª</a>
                        <a class="meditation-link" href="https://www.meditationlibrary.net/×“××™×•×Ÿ-××•×“×¨×š-×œ×©×—×¨×•×¨-×¨×’×©×•×ª-×©×œ×™×œ×™×™×/" target="_blank">××“×™×˜×¦×™×” ×‘×“××™×•×Ÿ ××•×“×¨×š ×œ×©×—×¨×•×¨ ×¨×’×©×•×ª ×©×œ×™×œ×™×™×</a>
                        <a class="meditation-link" href="https://youtu.be/ANaIS9-o0Dw" target="_blank">××“×™×˜×¦×™×” ×œ×©×—×¨×•×¨ ××—×©×‘×•×ª ×˜×•×¨×“× ×™×•×ª, ×—×©×™×‘×ª ×™×ª×¨ ×•×“××’×•×ª</a>
                        <a class="meditation-link" href="https://youtu.be/OZmEt7auY0k?si=iqvRVFfc4csOxEA3" target="_blank">××“×™×˜×¦×™×” ×‘×“××™×•×Ÿ ××•×“×¨×š ×œ×”×¨×’×¢×ª ×©×œ ×”×ª×§×£ ×—×¨×“×” ×•×—×¨×“×”</a>
                        <a class="meditation-link" href="https://youtu.be/I65UTYRtd88?si=qyttbYXNZk25-zYq" target="_blank">××“×™×˜×¦×™×” ×§×¦×¨×” ×œ×¨×’×™×¢×” ×•×©×—×¨×•×¨ ×—×¨×“×•×ª</a>
                    </div>
                </div>
                
                <!-- ×©×™× ×” ×˜×•×‘×” ×•×¢××•×§×” -->
                <div class="meditation-category">
                    <h3>ğŸŒœ ×©×™× ×” ×˜×•×‘×” ×•×¢××•×§×”</h3>
                    <div class="meditation-grid">
                        <a class="meditation-link" href="http://www.meditationlibrary.net/××“×™×˜×¦×™×”-×œ×¤× ×™-×”×©×™× ×”-×œ× ×™×§×•×™/" target="_blank">××“×™×˜×¦×™×” ×œ×¤× ×™ ×”×©×™× ×” - ×œ× ×™×§×•×™ ×× ×¨×’×˜×™</a>
                        <a class="meditation-link" href="https://youtu.be/5ZcOF4Pjgwo" target="_blank">××“×™×˜×¦×™×” ×œ×©×™× ×” ×˜×§×¡ ×œ×™×œ×™</a>
                        <a class="meditation-link" href="https://youtu.be/BeMlYGlQ6_Q" target="_blank">××“×™×˜×¦×™×™×ª ×¦×œ×™×œ×” ×œ×©×™× ×” ×¢××•×§×”</a>
                        <a class="meditation-link" href="https://youtu.be/QL2lmnWxSZY" target="_blank">××“×™×˜×¦×™×” × ×™×§×•×™ ×”×™×•× ×©×—×œ×£</a>
                    </div>
                </div>
                
                <!-- ×‘×™×˜×—×•×Ÿ ×¢×¦××™, ×§×‘×œ×” ×•×”×¢×¦××” ××™×©×™×ª -->
                <div class="meditation-category">
                    <h3>ğŸ™Œ ×‘×™×˜×—×•×Ÿ ×¢×¦××™, ×§×‘×œ×” ×•×”×¢×¦××” ××™×©×™×ª</h3>
                    <div class="meditation-grid">
                        <a class="meditation-link" href="https://youtu.be/hQlsY1KDrXI" target="_blank">××“×™×˜×¦×™×” ×œ×—×™×–×•×§ ×”×‘×™×˜×—×•×Ÿ ×”×¢×¦××™ ×•×ª×—×•×©×ª ×”×©×œ×™×˜×” ×‘×—×™×™×</a>
                        <a class="meditation-link" href="https://youtu.be/1LvT7VCP-go" target="_blank">×œ×”×—×–×™×¨ ××ª ×©××—×ª ×”×—×™×™×</a>
                        <a class="meditation-link" href="https://youtu.be/eN3Oqn6O4EU" target="_blank">××“×™×˜×¦×™×” ×‘×“×™×•×§ ×›×¤×™ ×©×× ×™</a>
                        <a class="meditation-link" href="https://youtu.be/HTB5GDRjuwk?si=YPKvGESG1OoPNEJi" target="_blank">××“×™×˜×¦×™×” ×œ×—×™×–×•×§ ×—×©×™×‘×” ×—×™×•×‘×™×ª ×”×¢×¦××ª ×”×‘×™×˜×—×•×Ÿ ×•×”×©×¤×¢</a>
                        <a class="meditation-link" href="https://youtu.be/3jpb71IdYhc?si=JcNB03I4xFC0LX9O" target="_blank">××“×™×˜×¦×™×” ×œ×‘×™×˜×—×•×Ÿ ×¢×¦××™ ×’×‘×•×” ×•××”×‘×” ×¢×¦××™×ª - ×—×™×–×•×§ ×‘×™×˜×—×•×Ÿ ×¢×¦××™</a>
                    </div>
                </div>
                
                <!-- ××™×–×•×Ÿ ×¨×’×©×™ ×•×”×›×œ×” ×©×œ ×¨×’×©×•×ª -->
                <div class="meditation-category">
                    <h3>âš–ï¸ ××™×–×•×Ÿ ×¨×’×©×™ ×•×”×›×œ×” ×©×œ ×¨×’×©×•×ª</h3>
                    <div class="meditation-grid">
                        <a class="meditation-link" href="https://youtu.be/ucnLfc0VJLA" target="_blank">× ×™×§×•×™ ×©×—×¨×•×¨ ×•×”×¨×—×‘×ª ×”×œ×‘</a>
                        <a class="meditation-link" href="https://www.youtube.com/watch?v=TENB02x_cig" target="_blank">××“×™×˜×¦×™×” ××™×™× ×“×¤×•×œ× ×¡ ×œ×”×¨×’×¢×” ×•×©×œ×•×•×” ××™×“×™×™×- 5 ×“×§×•×ª</a>
                        <a class="meditation-link" href="https://youtu.be/AEAZuCKY8rM?si=CpGyN7w79JNyYay2" target="_blank">××“×™×˜×¦×™×” ×©×œ × ×—××”</a>
                        <a class="meditation-link" href="https://youtu.be/qf18VzVA5YM" target="_blank">××“×™×˜×¦×™×” ×œ×”×¨×’×¢×” ×’×œ×™ ×œ×‘ ××•×•×¨×•×¨ ×¨×’×©×•×ª ××•×“×—×§×™×</a>
                        <a class="meditation-link" href="https://youtu.be/n28rIELPaNM?si=M209MHgbxIWpzVTX" target="_blank">××“×™×˜×¦×™×” ×œ×©×—×¨×•×¨ ×¢×•××¡ ×©×œ ××—×©×‘×•×ª ×•×—×™×‘×•×¨ ×œ×©×§×˜ ×•××™×–×•×Ÿ</a>
                    </div>
                </div>
                
                <!-- ×—×™×‘×•×¨ ×¤× ×™××™ ×•×¨×•×—× ×™ -->
                <div class="meditation-category">
                    <h3>ğŸ§˜â€â™€ï¸ ×—×™×‘×•×¨ ×¤× ×™××™ ×•×¨×•×—× ×™</h3>
                    <div class="meditation-grid">
                        <a class="meditation-link" href="https://youtu.be/xjfLdSecETw" target="_blank">×ª×“×¨×™× ×œ× ×™×§×•×™ ×•×¤×ª×™×—×ª ×‘×œ×•×˜×ª ×”××™×¦×˜×¨×•×‘×œ</a>
                        <a class="meditation-link" href="https://www.youtube.com/watch?v=RFsmhRUWuMQ" target="_blank">××“×™×˜×¦×™×™×ª ×—×™×‘×•×¨ ×œ×§×•×œ ×”×¤× ×™××™ (××“×™×˜×¦×™×” ×›×“×¨×š ×œ×”×§×©×‘×” ×¤× ×™××™×ª ×•×œ×”×›×•×•× ×”)</a>
                        <a class="meditation-link" href="https://www.youtube.com/watch?v=YhcVMktL8do" target="_blank">××“×™×˜×¦×™×” ×œ×§×‘×œ×ª ×”×“×¨×›×” ××”×× ×™ ×”×¢×œ×™×•×Ÿ ×•×—×™×‘×•×¨ ×œ××™× ×˜×•××™×¦×™×”</a>
                        <a class="meditation-link" href="https://youtu.be/xIH9qVjkA_w?si=L6TSRrCiLw2EBdS1" target="_blank">××“×™×˜×¦×™×” ×œ×¤×ª×™×—×ª ×¦'×§×¨×ª ×”×œ×‘ ×¨×™×¤×•×™ ×•×”×ª×¢×•×¨×¨×•×ª ×¨×•×—× ×™×ª</a>
                        <a class="meditation-link" href="https://youtu.be/tBY3G1ii-zk?si=DekJy9iCYKcmvd_w" target="_blank">××“×™×˜×¦×™×™×ª ×—×™×‘×•×¨ ×œ×©×œ×™×—×•×ª ×•×—×–×•×Ÿ</a>
                    </div>
                </div>
                
                <!-- ××”×‘×”, ×§×©×¨×™× ×–×•×’×™×™× ×•×—×™×‘×•×¨ ×‘×™×Ÿ ×× ×©×™× -->
                <div class="meditation-category">
                    <h3>ğŸ’• ××”×‘×”, ×§×©×¨×™× ×–×•×’×™×™× ×•×—×™×‘×•×¨ ×‘×™×Ÿ ×× ×©×™×</h3>
                    <div class="meditation-grid">
                        <a class="meditation-link" href="https://www.meditationlibrary.net/×“××™×•×Ÿ-××•×“×¨×š-×›×“×•×¨-×”×–×”×‘/" target="_blank">×“××™×•×Ÿ ××•×“×¨×š ×›×“×•×¨ ×”×–×”×‘ - ×¢×‘×•×“×” ×¢× ×× ×¨×’×™×” ××™× ×™×ª</a>
                        <a class="meditation-link" href="https://youtu.be/v_KR3vuczjI" target="_blank">×”×•×¨××•×Ÿ ×”××”×‘×” - ××“×™×˜×¦×™×” ×¡×‘×œ×™××™× ×œ×™×ª ×œ×”×¢×œ××ª ×¨××ª ×”××•×§×¡×™×˜×•×¦×™×Ÿ</a>
                        <a class="meditation-link" href="https://youtu.be/HUL34ZJmZ1o" target="_blank">××“×™×˜×¦×™×” ×œ××™×’× ×•×˜ ×—×‘×¨ × ×©××ª×™ ×•×–×•×’×™×•×ª ×œ× ×©×™×</a>
                        <a class="meditation-link" href="http://www.meditationlibrary.net/×ª×¨×’×™×œ-×‘×–×™××•×Ÿ-×–×•×’×™×•×ª/" target="_blank">×ª×¨×’×™×œ ×‘×–×™××•×Ÿ ×–×•×’×™×•×ª</a>
                        <a class="meditation-link" href="https://youtu.be/usyI1Is9b1k" target="_blank">Love Signal 528 Hz</a>
                        <a class="meditation-link" href="https://youtu.be/JJCOozFQ178" target="_blank">×¤×ª×™×—×ª ×”×œ×‘ ×•××’× ×•×˜ ×”×’×‘×¨ ×©×œ ×—×™×™×š</a>
                    </div>
                </div>
                
                <!-- ×¨×™×¤×•×™ ×¢×¦××™ ×•×”×—×œ××” -->
                <div class="meditation-category">
                    <h3>ğŸŒ± ×¨×™×¤×•×™ ×¢×¦××™ ×•×”×—×œ××”</h3>
                    <div class="meditation-grid">
                        <a class="meditation-link" href="https://www.meditationlibrary.net/××“×™×˜×¦×™×”-×œ× ×™×§×•×™-×× ×¨×’×˜×™/" target="_blank">××“×™×˜×¦×™×” ×œ× ×™×§×•×™ ×”×ª×“×¨ ×”×× ×¨×’×˜×™</a>
                        <a class="meditation-link" href="https://www.meditationlibrary.net/×”×¦×”×¨×•×ª-×œ×‘×¨×™××•×ª-×•×¨×™×¤×•×™/" target="_blank">×”×¦×”×¨×•×ª ×œ×¨×™×¤×•×™ ×•×‘×¨×™××•×ª ××•×©×œ××ª (10 ×“×§×•×ª)</a>
                        <a class="meditation-link" href="https://www.youtube.com/watch?v=RsImAZkQGNg" target="_blank">××“×™×˜×¦×™×” ×œ×¨×™×¤×•×™ ×”×’×•×£, ×‘×¨×™××•×ª ×•×”×—×œ××”</a>
                        <a class="meditation-link" href="https://youtu.be/uPU4VpPifIc?si=7nijPAsdscZQLDdp" target="_blank">××“×™×˜×¦×™×™×ª ×¨×™×¤×•×™, ×”×—×œ××”, ×¨×•×’×¢ ×•×‘×¨×™××•×ª ×¤×™×¨××™×“×” ×©×œ ×”×—×œ××”</a>
                        <a class="meditation-link" href="https://www.youtube.com/watch?v=NpstQxsXPEI" target="_blank">××“×™×˜×¦×™×™×ª ×”×—×œ××” ×•×¨×™×¤×•×™ ××¤×¦×™×¢×•×ª ×‘×’×•×£-× ×¤×© (×©×¢×” ×•-11 ×“×§×•×ª)</a>
                        <a class="meditation-link" href="https://youtu.be/Wa1GEKagrHU?si=tiaBjKiAw_CsKF4k" target="_blank">××“×™×˜×¦×™×” ×œ×—×™×–×•×§ ×”×’×•×£, ××¢×¨×›×ª ×”×—×™×¡×•×Ÿ ×•×”×ª××•×©×©×•×ª ×××—×œ×”</a>
                    </div>
                </div>
                
                <!-- ×—×™×•× ×™×•×ª ×•×× ×¨×’×™×” ×—×™×•×‘×™×ª -->
                <div class="meditation-category">
                    <h3>â˜€ï¸ ×—×™×•× ×™×•×ª ×•×× ×¨×’×™×” ×—×™×•×‘×™×ª</h3>
                    <div class="meditation-grid">
                        <a class="meditation-link" href="https://youtu.be/ML4eMxWkFGU" target="_blank">××“×™×˜×¦×™×” ×œ×—×©×™×‘×” ×—×™×•×‘×™×ª ×•×× ×¨×’×™×” ×—×™×•×‘×™×ª ×‘-6 ×“×§×•×ª</a>
                        <a class="meditation-link" href="https://youtu.be/MU3Ic2dp3uw?si=7leq-EtdHa9SKpg8" target="_blank">××“×™×˜×¦×™×” ×œ×—×©×™×‘×” ×—×™×•×‘×™×ª, ×”×›×¨×ª ×ª×•×“×” ×©××—×” ×•××•×¤×˜×™××™×•×ª</a>
                        <a class="meditation-link" href="https://youtu.be/HTB5GDRjuwk?si=OUbN-Vi-MsRa39nS" target="_blank">××“×™×˜×¦×™×” ×œ×—×™×–×•×§ ×—×©×™×‘×” ×—×™×•×‘×™×ª ×”×¢×¦××ª ×”×‘×™×˜×—×•×Ÿ ×•×”×©×¤×¢</a>
                        <a class="meditation-link" href="https://youtu.be/ztxpPqkwQVg" target="_blank">×–×¨×™×§×ª ××¨×¥ ×•×× ×¨×’×™×” - ××™××•×Ÿ ×’×œ×™ ××•×—</a>
                        <a class="meditation-link" href="https://www.youtube.com/watch?v=YJGbi2cLzak" target="_blank">××“×™×˜×¦×™×” ×œ×‘×•×§×¨ ×˜×•×‘ ×¢× ×× ×¨×’×™×•×ª ×—×™×•×‘×™×•×ª</a>
                        <a class="meditation-link" href="https://youtu.be/PamCP6LzAag?si=RtxVK3I2re6IhKP9" target="_blank">×œ×¡×“×¨ ××ª ×”×‘×•×§×¨ ×•×œ×”×ª×—×™×œ ××ª ×”×™×•× ×¢× ×—×™×•×š ×•××•×˜×™×‘×¦×™×”</a>
                    </div>
                </div>
                
                <!-- ×©×™× ×•×™ ×•×”×ª×¤×ª×—×•×ª ××™×©×™×ª -->
                <div class="meditation-category">
                    <h3>ğŸ’« ×©×™× ×•×™ ×•×”×ª×¤×ª×—×•×ª ××™×©×™×ª</h3>
                    <div class="meditation-grid">
                        <a class="meditation-link" href="https://youtu.be/PcV2_5a8xqs" target="_blank">×“××™×•×Ÿ ××•×“×¨×š ×”×›× ×” ×œ×§×¨××ª ×©×™× ×•×™ - ×¤×¨×§ ×'</a>
                        <a class="meditation-link" href="https://youtu.be/5ifOK-YsL0Q" target="_blank">×“××™×•×Ÿ ××•×“×¨×š ×œ×©×™× ×•×™ ×¤×¨×§ ×‘'</a>
                        <a class="meditation-link" href="https://www.youtube.com/watch?v=MKlAN8e1GAY" target="_blank">××“×™×˜×¦×™×” ×œ×™×¦×™×¨×ª ×¢×ª×™×“ ×•×”×¤×¢×œ×ª ×›×•×—×• ×©×œ ×”×ª×ª ××•×“×¢ ×œ×™×¦×™×¨×ª ××¦×™××•×ª</a>
                        <a class="meditation-link" href="https://youtu.be/kXjIm3nQido?si=LboGG_7H3VeVjug-" target="_blank">××“×™×˜×¦×™×” ×œ×©× ×” ×”×—×“×©×”</a>
                        <a class="meditation-link" href="https://youtu.be/kLaX9fpgV44?si=5tiTMsx9EKDSKdFE" target="_blank">××“×™×˜×¦×™×” ×œ×‘× ×™×™×ª ×”×× ×™ ×”×¢×ª×™×“×™×ª</a>
                        <a class="meditation-link" href="https://youtu.be/ekJ8Yq6xoog?si=0NmIIOFmPzriqOOB" target="_blank">××“×™×˜×¦×™×” ×œ×”×’×©××” â€“ ×—×•×§ ×”××©×™×›×” ×‘×¤×•×¢×œ×”</a>
                    </div>
                </div>
                
                <!-- ×©×•× ×•×ª -->
                <div class="meditation-category">
                    <h3>ğŸŒˆ ×©×•× ×•×ª</h3>
                    <div class="meditation-grid">
                        <a class="meditation-link" href="https://youtu.be/Qwzv0EfiY-k?si=YB5GaI6Zyqjp-GIs" target="_blank">××“×™×˜×¦×™×™×ª ×©×¤×¢ ×›×œ×›×œ×™ ×œ××©×™×›×ª ×›×¡×£ ,××–×œ ×•×¢×•×©×¨</a>
                        <a class="meditation-link" href="https://youtu.be/0asyM8q8DPA?si=vud7gwWZzJRpTwxh" target="_blank">××“×™×˜×¦×™×” ×œ×©×™×¤×•×¨ ×”×¨×™×›×•×– ×”×–×™×›×¨×•×Ÿ</a>
                        <a class="meditation-link" href="https://youtu.be/mB894cMo9Xg?si=QzfGQ0KI3VZdTBYw" target="_blank">××“×™×˜×¦×™×” ×œ×–××Ÿ ××œ×—××”</a>
                        <a class="meditation-link" href="https://youtu.be/BZmCeIbp7UY?si=Dx10oSZMms3gAThi" target="_blank">×”×ª××•×“×“×•×ª ×¢× ××•×‘×“×Ÿ ×•×©×›×•×œ</a>
                    </div>
                </div>
                
                <div style="margin-top: 30px; padding: 15px; background: #d4e5da; border-radius: 10px; text-align: center;">
                    <strong style="color: #8cb89c;">ğŸ™</strong> ××•×¡×£ ×”××“×™×˜×¦×™×•×ª ×©×œ× ×• × ××¡×£ ×‘×§×¤×™×“×” ××¨×—×‘×™ ×”×¨×©×ª, ×× ×• ××•×“×•×ª ××›×œ ×”×œ×‘ ×œ×›×œ ×”×™×•×¦×¨×™× ×•×”×™×•×¦×¨×•×ª ×©× ×•×ª× ×™× ×œ× ×• ×”×©×¨××” ×•××¢×©×™×¨×™× ××ª ×¢×•×œ×× ×•
                </div>
            </div>
        </div>
    </div>

    <!-- New Meditations Side Panel -->
    <div id="meditationsSidePanel" class="meditations-side-panel">
        <div class="meditations-panel-content">
            <div class="meditations-panel-header">
                <h2>ğŸ§ ××•×¡×£ ××“×™×˜×¦×™×•×ª</h2>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <button class="filter-favorites-btn" onclick="toggleFavoritesFilter()" id="favoritesFilterBtn">×”×¦×’ ××•×¢×“×¤×•×ª</button>
                    <button class="meditations-close-btn" onclick="closeMeditationsSidePanel()">Ã—</button>
                </div>
            </div>
            <div class="meditations-panel-body">
                
                <p style="margin: 0 0 15px 0; color: #718096; font-size: 16px; text-align: center;">×‘×—×¨×™ ×”××“×™×˜×¦×™×•×ª ×©×ª×¨×¦×™ ×œ×—×–×•×¨ ××œ×™×”×Ÿ ×•×”×•×¡×™×¤×™ ×œ××•×¢×“×¤×™×</p>
                
                <!-- ×©×—×¨×•×¨ ×œ×—×¥ ×•×—×¨×“×” -->
                <div class="meditations-category">
                    <h3>ğŸŒŠ ×©×—×¨×•×¨ ×œ×—×¥ ×•×—×¨×“×”</h3>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://www.meditationlibrary.net/×”×¤×¡×§×ª-××“×™×˜×¦×™×”-×‘×—××©-×“×§×•×ª/" target="_blank">
                            <span>×”×¤×¡×§×ª ××“×™×˜×¦×™×” ×œ×©×—×¨×•×¨ ××™×“×™ ××œ×—×¥</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×”×¤×¡×§×ª ××“×™×˜×¦×™×” ×œ×©×—×¨×•×¨ ××™×“×™ ××œ×—×¥', event)"></span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/GjbQKAyVgeo" target="_blank">
                            <span>×”×¨×¤×™×™×ª ×©×¨×™×¨×™× ×”×“×¨×’×ª×™×ª</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×”×¨×¤×™×™×ª ×©×¨×™×¨×™× ×”×“×¨×’×ª×™×ª', event)"></span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://www.meditationlibrary.net/×“××™×•×Ÿ-××•×“×¨×š-×œ×©×—×¨×•×¨-×¨×’×©×•×ª-×©×œ×™×œ×™×™×/" target="_blank">
                            <span>××“×™×˜×¦×™×” ×‘×“××™×•×Ÿ ××•×“×¨×š ×œ×©×—×¨×•×¨ ×¨×’×©×•×ª ×©×œ×™×œ×™×™×</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×‘×“××™×•×Ÿ ××•×“×¨×š ×œ×©×—×¨×•×¨ ×¨×’×©×•×ª ×©×œ×™×œ×™×™×', event)"></span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/ANaIS9-o0Dw" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×©×—×¨×•×¨ ××—×©×‘×•×ª ×˜×•×¨×“× ×™×•×ª, ×—×©×™×‘×ª ×™×ª×¨ ×•×“××’×•×ª</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×©×—×¨×•×¨ ××—×©×‘×•×ª ×˜×•×¨×“× ×™×•×ª, ×—×©×™×‘×ª ×™×ª×¨ ×•×“××’×•×ª', event)"></span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/OZmEt7auY0k?si=iqvRVFfc4csOxEA3" target="_blank">
                            <span>××“×™×˜×¦×™×” ×‘×“××™×•×Ÿ ××•×“×¨×š ×œ×”×¨×’×¢×ª ×©×œ ×”×ª×§×£ ×—×¨×“×” ×•×—×¨×“×”</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×‘×“××™×•×Ÿ ××•×“×¨×š ×œ×”×¨×’×¢×ª ×©×œ ×”×ª×§×£ ×—×¨×“×” ×•×—×¨×“×”', event)"></span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/I65UTYRtd88?si=qyttbYXNZk25-zYq" target="_blank">
                            <span>××“×™×˜×¦×™×” ×§×¦×¨×” ×œ×¨×’×™×¢×” ×•×©×—×¨×•×¨ ×—×¨×“×•×ª</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×§×¦×¨×” ×œ×¨×’×™×¢×” ×•×©×—×¨×•×¨ ×—×¨×“×•×ª', event)"></span>
                    </div>
                </div>
                
                <!-- ×©×™× ×” ×˜×•×‘×” ×•×¢××•×§×” -->
                <div class="meditations-category">
                    <h3>ğŸŒœ ×©×™× ×” ×˜×•×‘×” ×•×¢××•×§×”</h3>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="http://www.meditationlibrary.net/××“×™×˜×¦×™×”-×œ×¤× ×™-×”×©×™× ×”-×œ× ×™×§×•×™/" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×¤× ×™ ×”×©×™× ×” - ×œ× ×™×§×•×™ ×× ×¨×’×˜×™</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×¤× ×™ ×”×©×™× ×” - ×œ× ×™×§×•×™ ×× ×¨×’×˜×™', event)"></span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/5ZcOF4Pjgwo" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×©×™× ×” ×˜×§×¡ ×œ×™×œ×™</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×©×™× ×” ×˜×§×¡ ×œ×™×œ×™', event)"></span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/BeMlYGlQ6_Q" target="_blank">
                            <span>××“×™×˜×¦×™×™×ª ×¦×œ×™×œ×” ×œ×©×™× ×” ×¢××•×§×”</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×™×ª ×¦×œ×™×œ×” ×œ×©×™× ×” ×¢××•×§×”', event)"></span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/QL2lmnWxSZY" target="_blank">
                            <span>××“×™×˜×¦×™×” × ×™×§×•×™ ×”×™×•× ×©×—×œ×£</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” × ×™×§×•×™ ×”×™×•× ×©×—×œ×£', event)"></span>
                    </div>
                </div>
                
                <!-- ×‘×™×˜×—×•×Ÿ ×¢×¦××™, ×§×‘×œ×” ×•×”×¢×¦××” ××™×©×™×ª -->
                <div class="meditations-category">
                    <h3>ğŸ™Œ ×‘×™×˜×—×•×Ÿ ×¢×¦××™, ×§×‘×œ×” ×•×”×¢×¦××” ××™×©×™×ª</h3>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/hQlsY1KDrXI" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×—×™×–×•×§ ×”×‘×™×˜×—×•×Ÿ ×”×¢×¦××™ ×•×ª×—×•×©×ª ×”×©×œ×™×˜×” ×‘×—×™×™×</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×—×™×–×•×§ ×”×‘×™×˜×—×•×Ÿ ×”×¢×¦××™ ×•×ª×—×•×©×ª ×”×©×œ×™×˜×” ×‘×—×™×™×', event)"></span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/1LvT7VCP-go" target="_blank">
                            <span>×œ×”×—×–×™×¨ ××ª ×©××—×ª ×”×—×™×™×</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×œ×”×—×–×™×¨ ××ª ×©××—×ª ×”×—×™×™×', event)"></span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/eN3Oqn6O4EU" target="_blank">
                            <span>××“×™×˜×¦×™×” ×‘×“×™×•×§ ×›×¤×™ ×©×× ×™</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×‘×“×™×•×§ ×›×¤×™ ×©×× ×™', event)"></span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/HTB5GDRjuwk?si=YPKvGESG1OoPNEJi" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×—×™×–×•×§ ×—×©×™×‘×” ×—×™×•×‘×™×ª ×”×¢×¦××ª ×”×‘×™×˜×—×•×Ÿ ×•×”×©×¤×¢</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×—×™×–×•×§ ×—×©×™×‘×” ×—×™×•×‘×™×ª ×”×¢×¦××ª ×”×‘×™×˜×—×•×Ÿ ×•×”×©×¤×¢', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/3jpb71IdYhc?si=JcNB03I4xFC0LX9O" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×‘×™×˜×—×•×Ÿ ×¢×¦××™ ×’×‘×•×” ×•××”×‘×” ×¢×¦××™×ª - ×—×™×–×•×§ ×‘×™×˜×—×•×Ÿ ×¢×¦××™</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×‘×™×˜×—×•×Ÿ ×¢×¦××™ ×’×‘×•×” ×•××”×‘×” ×¢×¦××™×ª - ×—×™×–×•×§ ×‘×™×˜×—×•×Ÿ ×¢×¦××™', event)">â—‹</span>
                    </div>
                </div>
                
                <!-- ××™×–×•×Ÿ ×¨×’×©×™ ×•×”×›×œ×” ×©×œ ×¨×’×©×•×ª -->
                <div class="meditations-category">
                    <h3>âš–ï¸ ××™×–×•×Ÿ ×¨×’×©×™ ×•×”×›×œ×” ×©×œ ×¨×’×©×•×ª</h3>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/ucnLfc0VJLA" target="_blank">
                            <span>× ×™×§×•×™ ×©×—×¨×•×¨ ×•×”×¨×—×‘×ª ×”×œ×‘</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '× ×™×§×•×™ ×©×—×¨×•×¨ ×•×”×¨×—×‘×ª ×”×œ×‘', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://www.youtube.com/watch?v=TENB02x_cig" target="_blank">
                            <span>××“×™×˜×¦×™×” ××™×™× ×“×¤×•×œ× ×¡ ×œ×”×¨×’×¢×” ×•×©×œ×•×•×” ××™×“×™×™×- 5 ×“×§×•×ª</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ××™×™× ×“×¤×•×œ× ×¡ ×œ×”×¨×’×¢×” ×•×©×œ×•×•×” ××™×“×™×™×- 5 ×“×§×•×ª', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/AEAZuCKY8rM?si=CpGyN7w79JNyYay2" target="_blank">
                            <span>××“×™×˜×¦×™×” ×©×œ × ×—××”</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×©×œ × ×—××”', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/qf18VzVA5YM" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×”×¨×’×¢×” ×’×œ×™ ×œ×‘ ××•×•×¨×•×¨ ×¨×’×©×•×ª ××•×“×—×§×™×</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×”×¨×’×¢×” ×’×œ×™ ×œ×‘ ××•×•×¨×•×¨ ×¨×’×©×•×ª ××•×“×—×§×™×', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/n28rIELPaNM?si=M209MHgbxIWpzVTX" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×©×—×¨×•×¨ ×¢×•××¡ ×©×œ ××—×©×‘×•×ª ×•×—×™×‘×•×¨ ×œ×©×§×˜ ×•××™×–×•×Ÿ</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×©×—×¨×•×¨ ×¢×•××¡ ×©×œ ××—×©×‘×•×ª ×•×—×™×‘×•×¨ ×œ×©×§×˜ ×•××™×–×•×Ÿ', event)">â—‹</span>
                    </div>
                </div>
                
                <!-- ×—×™×‘×•×¨ ×¤× ×™××™ ×•×¨×•×—× ×™ -->
                <div class="meditations-category">
                    <h3>ğŸ§˜â€â™€ï¸ ×—×™×‘×•×¨ ×¤× ×™××™ ×•×¨×•×—× ×™</h3>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/xjfLdSecETw" target="_blank">
                            <span>×ª×“×¨×™× ×œ× ×™×§×•×™ ×•×¤×ª×™×—×ª ×‘×œ×•×˜×ª ×”××™×¦×˜×¨×•×‘×œ</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×ª×“×¨×™× ×œ× ×™×§×•×™ ×•×¤×ª×™×—×ª ×‘×œ×•×˜×ª ×”××™×¦×˜×¨×•×‘×œ', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://www.youtube.com/watch?v=RFsmhRUWuMQ" target="_blank">
                            <span>××“×™×˜×¦×™×™×ª ×—×™×‘×•×¨ ×œ×§×•×œ ×”×¤× ×™××™ (××“×™×˜×¦×™×” ×›×“×¨×š ×œ×”×§×©×‘×” ×¤× ×™××™×ª ×•×œ×”×›×•×•× ×”)</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×™×ª ×—×™×‘×•×¨ ×œ×§×•×œ ×”×¤× ×™××™ (××“×™×˜×¦×™×” ×›×“×¨×š ×œ×”×§×©×‘×” ×¤× ×™××™×ª ×•×œ×”×›×•×•× ×”)', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://www.youtube.com/watch?v=YhcVMktL8do" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×§×‘×œ×ª ×”×“×¨×›×” ××”×× ×™ ×”×¢×œ×™×•×Ÿ ×•×—×™×‘×•×¨ ×œ××™× ×˜×•××™×¦×™×”</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×§×‘×œ×ª ×”×“×¨×›×” ××”×× ×™ ×”×¢×œ×™×•×Ÿ ×•×—×™×‘×•×¨ ×œ××™× ×˜×•××™×¦×™×”', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/xIH9qVjkA_w?si=L6TSRrCiLw2EBdS1" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×¤×ª×™×—×ª ×¦'×§×¨×ª ×”×œ×‘ ×¨×™×¤×•×™ ×•×”×ª×¢×•×¨×¨×•×ª ×¨×•×—× ×™×ª</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×¤×ª×™×—×ª ×¦\'×§×¨×ª ×”×œ×‘ ×¨×™×¤×•×™ ×•×”×ª×¢×•×¨×¨×•×ª ×¨×•×—× ×™×ª', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/tBY3G1ii-zk?si=DekJy9iCYKcmvd_w" target="_blank">
                            <span>××“×™×˜×¦×™×™×ª ×—×™×‘×•×¨ ×œ×©×œ×™×—×•×ª ×•×—×–×•×Ÿ</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×™×ª ×—×™×‘×•×¨ ×œ×©×œ×™×—×•×ª ×•×—×–×•×Ÿ', event)">â—‹</span>
                    </div>
                </div>
                
                <!-- ××”×‘×”, ×§×©×¨×™× ×–×•×’×™×™× ×•×—×™×‘×•×¨ ×‘×™×Ÿ ×× ×©×™× -->
                <div class="meditations-category">
                    <h3>ğŸ’• ××”×‘×”, ×§×©×¨×™× ×–×•×’×™×™× ×•×—×™×‘×•×¨ ×‘×™×Ÿ ×× ×©×™×</h3>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://www.meditationlibrary.net/×“××™×•×Ÿ-××•×“×¨×š-×›×“×•×¨-×”×–×”×‘/" target="_blank">
                            <span>×“××™×•×Ÿ ××•×“×¨×š ×›×“×•×¨ ×”×–×”×‘ - ×¢×‘×•×“×” ×¢× ×× ×¨×’×™×” ××™× ×™×ª</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×“××™×•×Ÿ ××•×“×¨×š ×›×“×•×¨ ×”×–×”×‘ - ×¢×‘×•×“×” ×¢× ×× ×¨×’×™×” ××™× ×™×ª', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/v_KR3vuczjI" target="_blank">
                            <span>×”×•×¨××•×Ÿ ×”××”×‘×” - ××“×™×˜×¦×™×” ×¡×‘×œ×™××™× ×œ×™×ª ×œ×”×¢×œ××ª ×¨××ª ×”××•×§×¡×™×˜×•×¦×™×Ÿ</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×”×•×¨××•×Ÿ ×”××”×‘×” - ××“×™×˜×¦×™×” ×¡×‘×œ×™××™× ×œ×™×ª ×œ×”×¢×œ××ª ×¨××ª ×”××•×§×¡×™×˜×•×¦×™×Ÿ', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/HUL34ZJmZ1o" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ××™×’× ×•×˜ ×—×‘×¨ × ×©××ª×™ ×•×–×•×’×™×•×ª ×œ× ×©×™×</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ××™×’× ×•×˜ ×—×‘×¨ × ×©××ª×™ ×•×–×•×’×™×•×ª ×œ× ×©×™×', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="http://www.meditationlibrary.net/×ª×¨×’×™×œ-×‘×–×™××•×Ÿ-×–×•×’×™×•×ª/" target="_blank">
                            <span>×ª×¨×’×™×œ ×‘×–×™××•×Ÿ ×–×•×’×™×•×ª</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×ª×¨×’×™×œ ×‘×–×™××•×Ÿ ×–×•×’×™×•×ª', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/usyI1Is9b1k" target="_blank">
                            <span>Love Signal 528 Hz</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, 'Love Signal 528 Hz', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/JJCOozFQ178" target="_blank">
                            <span>×¤×ª×™×—×ª ×”×œ×‘ ×•××’× ×•×˜ ×”×’×‘×¨ ×©×œ ×—×™×™×š</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×¤×ª×™×—×ª ×”×œ×‘ ×•××’× ×•×˜ ×”×’×‘×¨ ×©×œ ×—×™×™×š', event)">â—‹</span>
                    </div>
                </div>
                
                <!-- ×¨×™×¤×•×™ ×¢×¦××™ ×•×”×—×œ××” -->
                <div class="meditations-category">
                    <h3>ğŸŒ± ×¨×™×¤×•×™ ×¢×¦××™ ×•×”×—×œ××”</h3>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://www.meditationlibrary.net/××“×™×˜×¦×™×”-×œ× ×™×§×•×™-×× ×¨×’×˜×™/" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ× ×™×§×•×™ ×”×ª×“×¨ ×”×× ×¨×’×˜×™</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ× ×™×§×•×™ ×”×ª×“×¨ ×”×× ×¨×’×˜×™', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://www.meditationlibrary.net/×”×¦×”×¨×•×ª-×œ×‘×¨×™××•×ª-×•×¨×™×¤×•×™/" target="_blank">
                            <span>×”×¦×”×¨×•×ª ×œ×¨×™×¤×•×™ ×•×‘×¨×™××•×ª ××•×©×œ××ª (10 ×“×§×•×ª)</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×”×¦×”×¨×•×ª ×œ×¨×™×¤×•×™ ×•×‘×¨×™××•×ª ××•×©×œ××ª (10 ×“×§×•×ª)', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://www.youtube.com/watch?v=RsImAZkQGNg" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×¨×™×¤×•×™ ×”×’×•×£, ×‘×¨×™××•×ª ×•×”×—×œ××”</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×¨×™×¤×•×™ ×”×’×•×£, ×‘×¨×™××•×ª ×•×”×—×œ××”', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/uPU4VpPifIc?si=7nijPAsdscZQLDdp" target="_blank">
                            <span>××“×™×˜×¦×™×™×ª ×¨×™×¤×•×™, ×”×—×œ××”, ×¨×•×’×¢ ×•×‘×¨×™××•×ª ×¤×™×¨××™×“×” ×©×œ ×”×—×œ××”</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×™×ª ×¨×™×¤×•×™, ×”×—×œ××”, ×¨×•×’×¢ ×•×‘×¨×™××•×ª ×¤×™×¨××™×“×” ×©×œ ×”×—×œ××”', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://www.youtube.com/watch?v=NpstQxsXPEI" target="_blank">
                            <span>××“×™×˜×¦×™×™×ª ×”×—×œ××” ×•×¨×™×¤×•×™ ××¤×¦×™×¢×•×ª ×‘×’×•×£-× ×¤×© (×©×¢×” ×•-11 ×“×§×•×ª)</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×™×ª ×”×—×œ××” ×•×¨×™×¤×•×™ ××¤×¦×™×¢×•×ª ×‘×’×•×£-× ×¤×© (×©×¢×” ×•-11 ×“×§×•×ª)', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/Wa1GEKagrHU?si=tiaBjKiAw_CsKF4k" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×—×™×–×•×§ ×”×’×•×£, ××¢×¨×›×ª ×”×—×™×¡×•×Ÿ ×•×”×ª××•×©×©×•×ª ×××—×œ×”</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×—×™×–×•×§ ×”×’×•×£, ××¢×¨×›×ª ×”×—×™×¡×•×Ÿ ×•×”×ª××•×©×©×•×ª ×××—×œ×”', event)">â—‹</span>
                    </div>
                </div>
                
                <!-- ×—×™×•× ×™×•×ª ×•×× ×¨×’×™×” ×—×™×•×‘×™×ª -->
                <div class="meditations-category">
                    <h3>â˜€ï¸ ×—×™×•× ×™×•×ª ×•×× ×¨×’×™×” ×—×™×•×‘×™×ª</h3>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/ML4eMxWkFGU" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×—×©×™×‘×” ×—×™×•×‘×™×ª ×•×× ×¨×’×™×” ×—×™×•×‘×™×ª ×‘-6 ×“×§×•×ª</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×—×©×™×‘×” ×—×™×•×‘×™×ª ×•×× ×¨×’×™×” ×—×™×•×‘×™×ª ×‘-6 ×“×§×•×ª', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/MU3Ic2dp3uw?si=7leq-EtdHa9SKpg8" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×—×©×™×‘×” ×—×™×•×‘×™×ª, ×”×›×¨×ª ×ª×•×“×” ×©××—×” ×•××•×¤×˜×™××™×•×ª</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×—×©×™×‘×” ×—×™×•×‘×™×ª, ×”×›×¨×ª ×ª×•×“×” ×©××—×” ×•××•×¤×˜×™××™×•×ª', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/HTB5GDRjuwk?si=OUbN-Vi-MsRa39nS" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×—×™×–×•×§ ×—×©×™×‘×” ×—×™×•×‘×™×ª ×”×¢×¦××ª ×”×‘×™×˜×—×•×Ÿ ×•×”×©×¤×¢</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×—×™×–×•×§ ×—×©×™×‘×” ×—×™×•×‘×™×ª ×”×¢×¦××ª ×”×‘×™×˜×—×•×Ÿ ×•×”×©×¤×¢', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/ztxpPqkwQVg" target="_blank">
                            <span>×–×¨×™×§×ª ××¨×¥ ×•×× ×¨×’×™×” - ××™××•×Ÿ ×’×œ×™ ××•×—</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×–×¨×™×§×ª ××¨×¥ ×•×× ×¨×’×™×” - ××™××•×Ÿ ×’×œ×™ ××•×—', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://www.youtube.com/watch?v=YJGbi2cLzak" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×‘×•×§×¨ ×˜×•×‘ ×¢× ×× ×¨×’×™×•×ª ×—×™×•×‘×™×•×ª</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×‘×•×§×¨ ×˜×•×‘ ×¢× ×× ×¨×’×™×•×ª ×—×™×•×‘×™×•×ª', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/PamCP6LzAag?si=RtxVK3I2re6IhKP9" target="_blank">
                            <span>×œ×¡×“×¨ ××ª ×”×‘×•×§×¨ ×•×œ×”×ª×—×™×œ ××ª ×”×™×•× ×¢× ×—×™×•×š ×•××•×˜×™×‘×¦×™×”</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×œ×¡×“×¨ ××ª ×”×‘×•×§×¨ ×•×œ×”×ª×—×™×œ ××ª ×”×™×•× ×¢× ×—×™×•×š ×•××•×˜×™×‘×¦×™×”', event)">â—‹</span>
                    </div>
                </div>
                
                <!-- ×©×™× ×•×™ ×•×”×ª×¤×ª×—×•×ª ××™×©×™×ª -->
                <div class="meditations-category">
                    <h3>ğŸ’« ×©×™× ×•×™ ×•×”×ª×¤×ª×—×•×ª ××™×©×™×ª</h3>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/PcV2_5a8xqs" target="_blank">
                            <span>×“××™×•×Ÿ ××•×“×¨×š ×”×›× ×” ×œ×§×¨××ª ×©×™× ×•×™ - ×¤×¨×§ ×'</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×“××™×•×Ÿ ××•×“×¨×š ×”×›× ×” ×œ×§×¨××ª ×©×™× ×•×™ - ×¤×¨×§ ×\'', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/5ifOK-YsL0Q" target="_blank">
                            <span>×“××™×•×Ÿ ××•×“×¨×š ×œ×©×™× ×•×™ ×¤×¨×§ ×‘'</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×“××™×•×Ÿ ××•×“×¨×š ×œ×©×™× ×•×™ ×¤×¨×§ ×‘\'', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://www.youtube.com/watch?v=MKlAN8e1GAY" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×™×¦×™×¨×ª ×¢×ª×™×“ ×•×”×¤×¢×œ×ª ×›×•×—×• ×©×œ ×”×ª×ª ××•×“×¢ ×œ×™×¦×™×¨×ª ××¦×™××•×ª</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×™×¦×™×¨×ª ×¢×ª×™×“ ×•×”×¤×¢×œ×ª ×›×•×—×• ×©×œ ×”×ª×ª ××•×“×¢ ×œ×™×¦×™×¨×ª ××¦×™××•×ª', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/kXjIm3nQido?si=LboGG_7H3VeVjug-" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×©× ×” ×”×—×“×©×”</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×©× ×” ×”×—×“×©×”', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/kLaX9fpgV44?si=5tiTMsx9EKDSKdFE" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×‘× ×™×™×ª ×”×× ×™ ×”×¢×ª×™×“×™×ª</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×‘× ×™×™×ª ×”×× ×™ ×”×¢×ª×™×“×™×ª', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/ekJ8Yq6xoog?si=0NmIIOFmPzriqOOB" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×”×’×©××” â€“ ×—×•×§ ×”××©×™×›×” ×‘×¤×•×¢×œ×”</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×”×’×©××” â€“ ×—×•×§ ×”××©×™×›×” ×‘×¤×•×¢×œ×”', event)">â—‹</span>
                    </div>
                </div>
                
                <!-- ×©×•× ×•×ª -->
                <div class="meditations-category">
                    <h3>ğŸŒˆ ×©×•× ×•×ª</h3>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/Qwzv0EfiY-k?si=YB5GaI6Zyqjp-GIs" target="_blank">
                            <span>××“×™×˜×¦×™×™×ª ×©×¤×¢ ×›×œ×›×œ×™ ×œ××©×™×›×ª ×›×¡×£ ,××–×œ ×•×¢×•×©×¨</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×™×ª ×©×¤×¢ ×›×œ×›×œ×™ ×œ××©×™×›×ª ×›×¡×£ ,××–×œ ×•×¢×•×©×¨', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/0asyM8q8DPA?si=vud7gwWZzJRpTwxh" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×©×™×¤×•×¨ ×”×¨×™×›×•×– ×”×–×™×›×¨×•×Ÿ</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×©×™×¤×•×¨ ×”×¨×™×›×•×– ×”×–×™×›×¨×•×Ÿ', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/mB894cMo9Xg?si=QzfGQ0KI3VZdTBYw" target="_blank">
                            <span>××“×™×˜×¦×™×” ×œ×–××Ÿ ××œ×—××”</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '××“×™×˜×¦×™×” ×œ×–××Ÿ ××œ×—××”', event)">â—‹</span>
                    </div>
                    <div class="meditations-link-container">
                        <a class="meditations-link" href="https://youtu.be/BZmCeIbp7UY?si=Dx10oSZMms3gAThi" target="_blank">
                            <span>×”×ª××•×“×“×•×ª ×¢× ××•×‘×“×Ÿ ×•×©×›×•×œ</span>
                        </a>
                        <span class="favorite-circle" onclick="toggleFavorite(this, '×”×ª××•×“×“×•×ª ×¢× ××•×‘×“×Ÿ ×•×©×›×•×œ', event)">â—‹</span>
                    </div>
                </div>
                
                <div style="margin-top: 30px; padding: 15px; background: #d4e5da; border-radius: 10px; text-align: center;">
                    <strong style="color: #8cb89c;">ğŸ™</strong> ××•×¡×£ ×”××“×™×˜×¦×™×•×ª ×©×œ× ×• × ××¡×£ ×‘×§×¤×™×“×” ××¨×—×‘×™ ×”×¨×©×ª, ×× ×• ××•×“×•×ª ××›×œ ×”×œ×‘ ×œ×›×œ ×”×™×•×¦×¨×™× ×•×”×™×•×¦×¨×•×ª ×©× ×•×ª× ×™× ×œ× ×• ×”×©×¨××” ×•××¢×©×™×¨×™× ××ª ×¢×•×œ×× ×•
                </div>
                
            </div>
        </div>
    </div>

    <!-- Emotions Reference Modal -->
    <div id="emotionsModal" class="reference-modal">
        <div class="reference-content">
            <span class="close" onclick="closeEmotionsReference()" style="position: absolute; top: 15px; left: 25px;">&times;</span>
            <h2 style="margin-bottom: 15px; color: #4a5568;">×¨×©×™××ª ×¨×’×©×•×ª</h2>
            <div style="text-align: right; line-height: 2; padding: 15px; background: #f9f9f9; border-radius: 15px; max-height: 70vh; overflow-y: auto;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                    <div>
                        <h3 style="color: #C86F7B; margin-bottom: 10px;">ğŸ’ ×—××œ×”</h3>
                        <p>×—×™×‘×”, ×™×“×™×“×•×ª, ×—×‘×¨×•×ª, ×”×–×“×”×•×ª, ×¨×•×š, ×—×•×, ×¤×ª×™×—×•×ª, ××”×‘×”</p>
                    </div>
                    <div>
                        <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸ’ª ×‘×™×˜×—×•×Ÿ</h3>
                        <p>×—×™×–×•×§, ×”×¢×¦××”, ×¢×™×“×•×“, ×’××•×•×”, ×ª×§×•×•×”</p>
                    </div>
                    <div>
                        <h3 style="color: #D4B896; margin-bottom: 10px;">âš¡ ×—×™×•×ª</h3>
                        <p>×‘×¨×›×”, ×§×•×¨×Ÿ, ×”×ª×¤×¢××•×ª, ×ª×“×”××”, ×”×ª×¨×’×©×•×ª, ×”×ª×œ×”×‘×•×ª, ×œ×”×™×˜×•×ª, ××¨×¥, ×”×©×ª×•×§×§×•×ª, ×¤×¢×œ×ª× ×•×ª</p>
                    </div>
                    <div>
                        <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸ˜Œ ×¨×•×’×¢</h3>
                        <p>×××•×Ÿ, ×§×‘×œ×”, ×—×™×‘×•×¨, × ×—×ª, ××™××•×©, ×”×’×©××”, ×¡×™×¤×•×§, ×¢×“×™× ×•×ª, × ×™× ×•×—×•×ª, ×©×œ×•×•×”, ×‘×”×™×¨×•×ª, × ×•×¢×, ×©×•×•×™×•×Ÿ × ×¤×©, ×©×§×˜, ×©×‘×™×¢×•×ª ×¨×¦×•×Ÿ</p>
                    </div>
                    <div>
                        <h3 style="color: #B8A9D9; margin-bottom: 10px;">ğŸ˜Š ×©××—×”</h3>
                        <p>×¢×œ×™×–×•×ª, ×”× ××”, ×©×¢×©×•×¢, ××•×©×¨, ×¢×•× ×’</p>
                    </div>
                    <div>
                        <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸŒ± ×¨×¢× × ×•×ª</h3>
                        <p>×¢×¨× ×•×ª, ×—×™×•×ª ××—×•×“×©×ª, ×©×™×§×•×, ××œ××•×ª ××—×•×“×©×ª, ×¦×œ×™×œ×•×ª ×“×¢×ª</p>
                    </div>
                    <div>
                        <h3 style="color: #D4B896; margin-bottom: 10px;">ğŸ™ ×”×•×“×™×”</h3>
                        <p>×”××¨×”, ×”×›×¨×ª ×ª×•×“×”, ××•×¤×˜×™××™×•×ª, ×—×™×•×‘×™×•×ª</p>
                    </div>
                    <div>
                        <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸ” ×¡×§×¨× ×•×ª</h3>
                        <p>×©×™×œ×”×•×‘, ×¢× ×™×™×Ÿ, ××¢×•×¨×‘×•×ª, ×”×©×¨××”, ×œ×”×˜</p>
                    </div>
                    <div>
                        <h3 style="color: #667eea; margin-bottom: 10px;">ğŸ˜• ×‘×œ×‘×•×œ</h3>
                        <p>×¤×™×¦×•×œ, ×§×¨×™×¢×”, ××•×‘×“×Ÿ ×“×¨×š, ×‘×œ×‘×•×œ, ××‘×•×›×”, ××•×‘×“×Ÿ ×¢×¦×•×ª, ×¤×™×–×•×¨ ×“×¢×ª, ×”×ª×¤×–×¨×•×ª, ×”×¡×—×ª ×“×¢×ª</p>
                    </div>
                    <div>
                        <h3 style="color: #f56565; margin-bottom: 10px;">ğŸ˜° ×¤×—×“</h3>
                        <p>×—×©×©, ×—×©×“× ×•×ª, ×‘×”×œ×”, ×¤×× ×™×§×”, ×‘×¢×ª×”, ××™××”, ×©×™×ª×•×§, ×“××’×”, ×˜×¨×“×”</p>
                    </div>
                    <div>
                        <h3 style="color: #C86F7B; margin-bottom: 10px;">ğŸ’” ×›××‘</h3>
                        <p>×™×™×¡×•×¨×™×, ×”×¨×¡, ×©×‘×¨×•×Ÿ, ×—×¨×˜×”, ×™×™×¡×•×¨×™ ××¦×¤×•×Ÿ, ××©××”, ×ª×”×¤×•×›×”, ××”×•××”, ×¤×’×™×¢×•×ª</p>
                    </div>
                    <div>
                        <h3 style="color: #e53e3e; margin-bottom: 10px;">ğŸ˜  ×©× ××”</h3>
                        <p>××™×‘×”, ×˜×™× ×”, ×ª×•×§×¤× ×•×ª, ××¨×™×¨×•×ª, ×¡×œ×™×“×”, ×“×—×™×”, ×’×•×¢×œ, ×‘×•×–</p>
                    </div>
                    <div>
                        <h3 style="color: #a0aec0; margin-bottom: 10px;">ğŸ˜‘ ×©×¢××•×</h3>
                        <p>× ×ª×§, × ×™×›×•×¨, ×¨×™×—×•×§, ××¤××˜×™×•×ª, ×§×•×¨, ×¡×’×™×¨×•×ª, ××•×¤× ××•×ª, ×—×•×¡×¨ ×¡×‘×œ× ×•×ª, ×¤×ª×™×œ ×§×¦×¨</p>
                    </div>
                    <div>
                        <h3 style="color: #D4B896; margin-bottom: 10px;">ğŸ˜’ ×§× ××”</h3>
                        <p>×¨×›×•×©× ×•×ª</p>
                    </div>
                    <div>
                        <h3 style="color: #718096; margin-bottom: 10px;">ğŸ˜« ×¢×™×™×¤×•×ª</h3>
                        <p>×”×¦×¤×”, ×”×ª×©×”, ××¤×™×¡×ª ×›×•×—×•×ª, × ×× ×•×, ×œ××•×ª, ×ª×©×™×©×•×ª</p>
                    </div>
                    <div>
                        <h3 style="color: #f6ad55; margin-bottom: 10px;">ğŸ˜¬ ××™ × ×•×—×•×ª</h3>
                        <p>×¨×˜×™× ×”, ×–×¢×–×•×¢, ×”×œ×, ×”×¤×ª×¢×”, ×“×¨×™×›×•×ª, ××™ × ×—×ª, ×¢×¨×¢×•×¨, ×—×•×¡×¨ ×× ×•×—×”, ×—×•×¡×¨ ×•×“××•×ª, ×—×•×¡×¨ ×©×§×˜</p>
                    </div>
                    <div>
                        <h3 style="color: #ed8936; margin-bottom: 10px;">ğŸ˜¤ ×¢×¦×‘× ×•×ª</h3>
                        <p>×—×•×¡×¨ ×¡×™×¤×•×§, ×–×¢×£, ×ª×¡×›×•×œ, ×—×•×¡×¨ ×¡×‘×œ× ×•×ª, ×˜×¨×“×”</p>
                    </div>
                    <div>
                        <h3 style="color: #5a67d8; margin-bottom: 10px;">ğŸ˜¢ ×¢×¦×‘×•×ª</h3>
                        <p>××¢×•×¨×¨ ×¨×—××™×, ×›××™×”×”, × ×•××©×•×ª, ×—×•×¡×¨ ×™×©×¢, ×—×•×¡×¨ ×ª×§×•×•×”, ×’×¢×’×•×¢, ×œ×‘ ×›×‘×“, ××›×–×‘×”, ×™×™××•×©, ××œ× ×›×•×œ×™×”, ×“×™×›××•×Ÿ, ×“×›×“×•×š, ×§×“×¨×•×ª</p>
                    </div>
                    <div>
                        <h3 style="color: #f687b3; margin-bottom: 10px;">ğŸ˜³ ××‘×•×›×”</h3>
                        <p>×‘×•×©×”, ×‘×™×™×©× ×•×ª, ×¤×’×™×¢×•×ª, ×©×‘×¨×™×¨×™×•×ª, ×—×•×¡×¨ ×‘×™×˜×—×•×Ÿ, ××™×¤×•×§, ×¨×™×¡×•×Ÿ</p>
                    </div>
                    <div>
                        <h3 style="color: #9f7aea; margin-bottom: 10px;">ğŸ¤’ ×ª×—×•×©×•×ª ×’×•×£</h3>
                        <p>×›×™×•×•×¥, ×—×•×œ×™, ×—×•×œ×©×”, ×¨×™×§× ×•×ª, ×—× ×§, ×›××‘, ××ª×—, ×œ×—×¥, ×¨×¢×“, ×—×•×¡×¨ × ×©×™××”, ×¡×—×•×˜</p>
                    </div>
                </div>
                <div style="margin-top: 30px; padding: 15px; background: #d4e5da; border-radius: 10px; text-align: center;">
                    <strong style="color: #8cb89c;">ğŸ’¡ ×˜×™×¤:</strong> × ×¡×™ ×œ×–×”×•×ª ×‘×“×™×•×§ ××™×–×” ×¨×’×© ××ª ×—×•×•×” - ×–×” ×™×¢×–×•×¨ ×œ×š ×œ×”×‘×™×Ÿ ××” ××ª ×¦×¨×™×›×” ×›×¨×’×¢
                </div>
            </div>
        </div>
    </div>

    <!-- New Emotions Side Panel -->
    <div id="emotionsSidePanel" class="emotions-side-panel">
        <div class="emotions-panel-content">
            <div class="emotions-panel-header">
                <h2>×¨×©×™××ª ×¨×’×©×•×ª</h2>
                <button class="emotions-close-btn" onclick="closeEmotionsSidePanel()">Ã—</button>
            </div>
            <div class="emotions-panel-body">
                <div style="text-align: right; line-height: 2;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div>
                            <h3 style="color: #C86F7B; margin-bottom: 10px;">ğŸ’ ×—××œ×”</h3>
                            <p>×—×™×‘×”, ×™×“×™×“×•×ª, ×—×‘×¨×•×ª, ×”×–×“×”×•×ª, ×¨×•×š, ×—×•×, ×¤×ª×™×—×•×ª, ××”×‘×”</p>
                        </div>
                        <div>
                            <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸ’ª ×‘×™×˜×—×•×Ÿ</h3>
                            <p>×—×™×–×•×§, ×”×¢×¦××”, ×¢×™×“×•×“, ×’××•×•×”, ×ª×§×•×•×”</p>
                        </div>
                        <div>
                            <h3 style="color: #D4B896; margin-bottom: 10px;">âš¡ ×—×™×•×ª</h3>
                            <p>×‘×¨×›×”, ×§×•×¨×Ÿ, ×”×ª×¤×¢××•×ª, ×ª×“×”××”, ×”×ª×¨×’×©×•×ª, ×”×ª×œ×”×‘×•×ª, ×œ×”×™×˜×•×ª, ××¨×¥, ×”×©×ª×•×§×§×•×ª, ×¤×¢×œ×ª× ×•×ª</p>
                        </div>
                        <div>
                            <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸ˜Œ ×¨×•×’×¢</h3>
                            <p>×××•×Ÿ, ×§×‘×œ×”, ×—×™×‘×•×¨, × ×—×ª, ××™××•×©, ×”×’×©××”, ×¡×™×¤×•×§, ×¢×“×™× ×•×ª, × ×™× ×•×—×•×ª, ×©×œ×•×•×”, ×‘×”×™×¨×•×ª, × ×•×¢×, ×©×•×•×™×•×Ÿ × ×¤×©, ×©×§×˜, ×©×‘×™×¢×•×ª ×¨×¦×•×Ÿ</p>
                        </div>
                        <div>
                            <h3 style="color: #B8A9D9; margin-bottom: 10px;">ğŸ˜Š ×©××—×”</h3>
                            <p>×¢×œ×™×–×•×ª, ×”× ××”, ×©×¢×©×•×¢, ××•×©×¨, ×¢×•× ×’</p>
                        </div>
                        <div>
                            <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸŒ± ×¨×¢× × ×•×ª</h3>
                            <p>×¢×¨× ×•×ª, ×—×™×•×ª ××—×•×“×©×ª, ×©×™×§×•×, ××œ××•×ª ××—×•×“×©×ª, ×¦×œ×™×œ×•×ª ×“×¢×ª</p>
                        </div>
                        <div>
                            <h3 style="color: #D4B896; margin-bottom: 10px;">ğŸ™ ×”×•×“×™×”</h3>
                            <p>×”××¨×”, ×”×›×¨×ª ×ª×•×“×”, ××•×¤×˜×™××™×•×ª, ×—×™×•×‘×™×•×ª</p>
                        </div>
                        <div>
                            <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸ” ×¡×§×¨× ×•×ª</h3>
                            <p>×©×™×œ×”×•×‘, ×¢× ×™×™×Ÿ, ××¢×•×¨×‘×•×ª, ×”×©×¨××”, ×œ×”×˜</p>
                        </div>
                        <div>
                            <h3 style="color: #667eea; margin-bottom: 10px;">ğŸ˜• ×‘×œ×‘×•×œ</h3>
                            <p>×¤×™×¦×•×œ, ×§×¨×™×¢×”, ××•×‘×“×Ÿ ×“×¨×š, ×‘×œ×‘×•×œ, ××‘×•×›×”, ××•×‘×“×Ÿ ×¢×¦×•×ª, ×¤×™×–×•×¨ ×“×¢×ª, ×”×ª×¤×–×¨×•×ª, ×”×¡×—×ª ×“×¢×ª</p>
                        </div>
                        <div>
                            <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸ˜° ×¤×—×“</h3>
                            <p>×—×©×©, ×—×©×“× ×•×ª, ×‘×”×œ×”, ×¤×× ×™×§×”, ×‘×¢×ª×”, ××™××”, ×©×™×ª×•×§, ×“××’×”, ×˜×¨×“×”</p>
                        </div>
                        <div>
                            <h3 style="color: #C86F7B; margin-bottom: 10px;">ğŸ’” ×›××‘</h3>
                            <p>×™×™×¡×•×¨×™×, ×”×¨×¡, ×©×‘×¨×•×Ÿ, ×—×¨×˜×”, ×™×™×¡×•×¨×™ ××¦×¤×•×Ÿ, ××©××”, ×ª×”×¤×•×›×”, ××”×•××”, ×¤×’×™×¢×•×ª</p>
                        </div>
                        <div>
                            <h3 style="color: #e53e3e; margin-bottom: 10px;">ğŸ˜  ×©× ××”</h3>
                            <p>××™×‘×”, ×˜×™× ×”, ×ª×•×§×¤× ×•×ª, ××¨×™×¨×•×ª, ×¡×œ×™×“×”, ×“×—×™×”, ×’×•×¢×œ, ×‘×•×–</p>
                        </div>
                        <div>
                            <h3 style="color: #a0aec0; margin-bottom: 10px;">ğŸ˜‘ ×©×¢××•×</h3>
                            <p>× ×ª×§, × ×™×›×•×¨, ×¨×™×—×•×§, ××¤××˜×™×•×ª, ×§×•×¨, ×¡×’×™×¨×•×ª, ××•×¤× ××•×ª, ×—×•×¡×¨ ×¡×‘×œ× ×•×ª, ×¤×ª×™×œ ×§×¦×¨</p>
                        </div>
                        <div>
                            <h3 style="color: #D4B896; margin-bottom: 10px;">ğŸ˜’ ×§× ××”</h3>
                            <p>×¨×›×•×©× ×•×ª</p>
                        </div>
                        <div>
                            <h3 style="color: #718096; margin-bottom: 10px;">ğŸ˜« ×¢×™×™×¤×•×ª</h3>
                            <p>×”×¦×¤×”, ×”×ª×©×”, ××¤×™×¡×ª ×›×•×—×•×ª, × ×× ×•×, ×œ××•×ª, ×ª×©×™×©×•×ª</p>
                        </div>
                        <div>
                            <h3 style="color: #f6ad55; margin-bottom: 10px;">ğŸ˜¬ ××™ × ×•×—×•×ª</h3>
                            <p>×¨×˜×™× ×”, ×–×¢×–×•×¢, ×”×œ×, ×”×¤×ª×¢×”, ×“×¨×™×›×•×ª, ××™ × ×—×ª, ×¢×¨×¢×•×¨, ×—×•×¡×¨ ×× ×•×—×”, ×—×•×¡×¨ ×•×“××•×ª, ×—×•×¡×¨ ×©×§×˜</p>
                        </div>
                        <div>
                            <h3 style="color: #ed8936; margin-bottom: 10px;">ğŸ˜¤ ×¢×¦×‘× ×•×ª</h3>
                            <p>×—×•×¡×¨ ×¡×™×¤×•×§, ×–×¢×£, ×ª×¡×›×•×œ, ×—×•×¡×¨ ×¡×‘×œ× ×•×ª, ×˜×¨×“×”</p>
                        </div>
                        <div>
                            <h3 style="color: #5a67d8; margin-bottom: 10px;">ğŸ˜¢ ×¢×¦×‘×•×ª</h3>
                            <p>××¢×•×¨×¨ ×¨×—××™×, ×›××™×”×”, × ×•××©×•×ª, ×—×•×¡×¨ ×™×©×¢, ×—×•×¡×¨ ×ª×§×•×•×”, ×’×¢×’×•×¢, ×œ×‘ ×›×‘×“, ××›×–×‘×”, ×™×™××•×©, ××œ× ×›×•×œ×™×”, ×“×™×›××•×Ÿ, ×“×›×“×•×š, ×§×“×¨×•×ª</p>
                        </div>
                        <div>
                            <h3 style="color: #f687b3; margin-bottom: 10px;">ğŸ˜³ ××‘×•×›×”</h3>
                            <p>×‘×•×©×”, ×‘×™×™×©× ×•×ª, ×¤×’×™×¢×•×ª, ×©×‘×¨×™×¨×™×•×ª, ×—×•×¡×¨ ×‘×™×˜×—×•×Ÿ, ××™×¤×•×§, ×¨×™×¡×•×Ÿ</p>
                        </div>
                        <div>
                            <h3 style="color: #9f7aea; margin-bottom: 10px;">ğŸ¤’ ×ª×—×•×©×•×ª ×’×•×£</h3>
                            <p>×›×™×•×•×¥, ×—×•×œ×™, ×—×•×œ×©×”, ×¨×™×§× ×•×ª, ×—× ×§, ×›××‘, ××ª×—, ×œ×—×¥, ×¨×¢×“, ×—×•×¡×¨ × ×©×™××”, ×¡×—×•×˜</p>
                        </div>
                    </div>
                    <div style="margin-top: 30px; padding: 15px; background: #d4e5da; border-radius: 10px; text-align: center;">
                        <strong style="color: #4a5568;">ğŸ’¡ ×˜×™×¤:</strong> × ×¡×™ ×œ×–×”×•×ª ×‘×“×™×•×§ ××™×–×” ×¨×’×© ××ª ×—×•×•×” - ×–×” ×™×¢×–×•×¨ ×œ×š ×œ×”×‘×™×Ÿ ××” ××ª ×¦×¨×™×›×” ×›×¨×’×¢
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Needs Reference Modal -->
    <div id="needsModal" class="reference-modal">
        <div class="reference-content">
            <span class="close" onclick="closeNeedsReference()" style="position: absolute; top: 15px; left: 25px;">&times;</span>
            <h2 style="margin-bottom: 15px; color: #4a5568;">×¨×©×™××ª ×¦×¨×›×™×</h2>
            <div style="text-align: right; line-height: 2; padding: 15px; background: #f9f9f9; border-radius: 15px; max-height: 70vh; overflow-y: auto;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
                    <div>
                        <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸ¦… ×—×•×¤×©</h3>
                        <p>×¢×¦×××•×ª, ×–××Ÿ, ××¨×—×‘, ×—×•×¤×© ×‘×—×™×¨×”, ××•×˜×•× ×•××™×”</p>
                    </div>
                    <div>
                        <h3 style="color: #C86F7B; margin-bottom: 10px;">ğŸ¤ ×›× ×•×ª</h3>
                        <p>×©×§×™×¤×•×ª, ×™×•×©×¨×”, ××•×ª× ×˜×™×•×ª, ×××™×ª×™×•×ª</p>
                    </div>
                    <div>
                        <h3 style="color: #D4B896; margin-bottom: 10px;">ğŸ¤¸â€â™€ï¸ ××©×—×§ / ×—×•×•×™×•×ª ××’×•×•× ×•×ª</h3>
                        <p>×¨×‘Ö¾×’×•× ×™×•×ª, ×—×•×•×™×•×ª, ×§×œ×™×œ×•×ª, ×¡×¤×•× ×˜× ×™×•×ª, ×”×¨×¤×ª×§× ×•×ª, ×¤× ×˜×–×™×”, ×•×™×–×•××œ×™×•×ª, ×—×§×¨, ×”×•××•×¨, ×’×™×•×•×Ÿ, ×›×™×£, ×¦×—×•×§, ×’×™×œ×•×™, ×—×™×•×ª, ×–×¨×™××”, ×—×’×™×’×”</p>
                    </div>
                    <div>
                        <h3 style="color: #B8A9D9; margin-bottom: 10px;">âœ¨ ×ª×—×•×©×ª ××©××¢×•×ª</h3>
                        <p>×¤×©×˜×•×ª, ×¨×•×—× ×™×•×ª, ××™×§×•×“ ×¤× ×™××™, × ×•×›×—×•×ª, ×™×© ×œ×™ ××§×•× ×‘×¢×•×œ×, ×œ×§×—×ª ×—×œ×§, ×œ×”×™×œ×§×— ×‘×—×©×‘×•×Ÿ, ×œ×”×™×•×ª ×‘×¢×œ ×—×©×™×‘×•×ª, ×©×™× ×•×™ ×¦×•×¨×”, ×”×ª××¨×”, ×©×—×¨×•×¨, ××•×“×¢×•×ª, ×¢×¨× ×•×ª, ×‘×”×™×¨×•×ª, ×‘×™×˜×•×™, ×™×›×•×œ×ª ×”×©×¤×¢×”, ×™×¢×™×œ×•×ª, ×”×ª×¤×ª×—×•×ª, ×’×“×™×œ×”, ×”×ª×§×“××•×ª, ×¦××™×—×”, ×“×¨×‘×•×Ÿ, ××ª×’×¨, ×”×©×¨××”, ×œ××™×“×”, ×™×¦×™×¨×ª×™×•×ª, ×”×¢×¦××”, ×™×›×•×œ×ª, ××¡×’×•×œ×•×ª, ×¢×•×¦××”, ×›×•×—, ×—×•×¡×Ÿ ×¤× ×™××™, ×›×‘×•×“ ×¢×¦××™, ×‘×™×˜×—×•×Ÿ ×¢×¦××™, ×¢×¨×š ×¢×¦××™, ×××•× ×”, ×”×¢×©×¨×ª ×”×—×™×™×, ×ª×§×•×•×”, ×ª×›×œ×™×ª, ×ª×”×œ×™×š, ×ª×¨×•××”</p>
                    </div>
                    <div>
                        <h3 style="color: #C86F7B; margin-bottom: 10px;">ğŸ’ ×—×™×‘×•×¨</h3>
                        <p>××“×™×‘×•×ª, ×¨×’×™×©×•×ª, ×¨×›×•×ª, ×¢×“×™× ×•×ª, ×§×‘×œ×”, ×”×›×œ×”, × ×ª×™× ×”, ×œ×—×œ×•×§, ×œ×”×™×•×ª ××•×‘×Ÿ (×”×‘× ×”), ×œ×”×‘×™×Ÿ, ×œ×”×™×©××¢ (×”×§×©×‘×”), ×œ×©××•×¢, ×œ×”×™×¨××•×ª (× ×¨××•×ª), ×œ×¨××•×ª, ×™×“×™×¢×”, ×¢×–×¨×”, ×ª××™×›×”, ×”×–× ×”, ×”××©×›×™×•×ª, ×¢×§×‘×™×•×ª, ×›×‘×•×“, ×”×“×“×™×•×ª, ×”×©×ª×ª×¤×•×ª, ×œ×”×™×•×ª ×—×œ×§, ×”×›×œ×œ×”, ×©×•×ª×¤×•×ª, ×¨×¢×•×ª, ×™×“×™×“×•×ª, ×—×‘×¨×•×ª, ×§×”×™×œ×”, ×©×™×™×›×•×ª, ×¤×ª×™×—×•×ª, ×××•×Ÿ, ×©×™×ª×•×£ ×¤×¢×•×œ×”, ×©×™×ª×•×¤×™×•×ª, ×ª×§×©×•×¨×ª, ×ª×©×•××ª ×œ×‘, ×”×›×¨×”, ×”×¢×¨×›×”, ×—×™×‘×”, ××™×©×•×¨, ×¢×™×“×•×“, ×××¤×ª×™×”, ×—××œ×”, ××™× ×˜×™××™×•×ª, ×§×¨×‘×”, ××”×‘×”, ×˜×™×¤×•×—, ××›×¤×ª×™×•×ª</p>
                    </div>
                    <div>
                        <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸƒâ€â™€ï¸ ×—×•×•×™×” ×’×•×¤× ×™×ª</h3>
                        <p>××’×¢, ×©×™× ×”, ×‘×™×˜×—×•×Ÿ ×¤×™×–×™, ×× ×•×—×”, ××™××•×Ÿ ×’×•×¤× ×™, ×ª× ×•×¢×”, ×”××©×›×™×•×ª, ×‘×™×˜×—×•×Ÿ ×¨×’×©×™, ×”×’× ×” ××¤× ×™ ×›××‘, ×‘×˜×™×—×•×ª, ×”×’× ×”, ××‘×˜×—×”, ××—×¡×”, ××•×¨, ××™×, ××–×•×Ÿ, ××•×•×™×¨</p>
                    </div>
                    <div>
                        <h3 style="color: #D4B896; margin-bottom: 10px;">âš–ï¸ ×”×¨××•× ×™×”</h3>
                        <p>×”×•×’× ×•×ª, ×©×•×•×™×•×Ÿ, ××™×–×•×Ÿ, ×™×¦×™×‘×•×ª, ×•×“××•×ª, ××™× ×˜×’×¨×¦×™×”, ×¢×™×›×•×œ, ×©×œ××•×ª, ××—×•×•×”, ××—×“×•×ª, ×¡×“×¨, ×™×•×¤×™, ×§×œ×™×œ×•×ª, ×©×œ×•×•×”, ×”×¨×¤×™×”, ×¨×•×’×¢, ×”×©×œ××”, ×©×œ×•×</p>
                    </div>
                </div>
                <div style="margin-top: 30px; padding: 15px; background: #d4e5da; border-radius: 10px; text-align: center;">
                    <strong style="color: #4a5568;">ğŸ’¡ ×—×©×•×‘ ×œ×–×›×•×¨:</strong> ×›×œ ×”×¦×¨×›×™× ×©×œ× ×• ×ª×§×¤×™× ×•×—×©×•×‘×™×. ×”×¨×’×© ×©×œ× ×• ××¦×‘×™×¢ ×¢×œ ×¦×¨×›×™× ×©××ª××œ××™× ××• ×œ× ××ª××œ××™×
                </div>
            </div>
        </div>
    </div>

    <!-- New Needs Side Panel -->
    <div id="needsSidePanel" class="needs-side-panel">
        <div class="needs-panel-content">
            <div class="needs-panel-header">
                <h2>×¨×©×™××ª ×¦×¨×›×™×</h2>
                <button class="needs-close-btn" onclick="closeNeedsSidePanel()">Ã—</button>
            </div>
            <div class="needs-panel-body">
                <div style="text-align: right; line-height: 2;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                        <div>
                            <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸ¦… ×—×•×¤×©</h3>
                            <p>×¢×¦×××•×ª, ×–××Ÿ, ××¨×—×‘, ×—×•×¤×© ×‘×—×™×¨×”, ××•×˜×•× ×•××™×”</p>
                        </div>
                        <div>
                            <h3 style="color: #C86F7B; margin-bottom: 10px;">ğŸ¤ ×›× ×•×ª</h3>
                            <p>×©×§×™×¤×•×ª, ×™×•×©×¨×”, ××•×ª× ×˜×™×•×ª, ×××™×ª×™×•×ª</p>
                        </div>
                        <div>
                            <h3 style="color: #D4B896; margin-bottom: 10px;">ğŸ¤¸â€â™€ï¸ ××©×—×§ / ×—×•×•×™×•×ª ××’×•×•× ×•×ª</h3>
                            <p>×¨×‘Ö¾×’×•× ×™×•×ª, ×—×•×•×™×•×ª, ×§×œ×™×œ×•×ª, ×¡×¤×•× ×˜× ×™×•×ª, ×”×¨×¤×ª×§× ×•×ª, ×¤× ×˜×–×™×”, ×•×™×–×•××œ×™×•×ª, ×—×§×¨, ×”×•××•×¨, ×’×™×•×•×Ÿ, ×›×™×£, ×¦×—×•×§, ×’×™×œ×•×™, ×—×™×•×ª, ×–×¨×™××”, ×—×’×™×’×”</p>
                        </div>
                        <div>
                            <h3 style="color: #B8A9D9; margin-bottom: 10px;">âœ¨ ×ª×—×•×©×ª ××©××¢×•×ª</h3>
                            <p>×¤×©×˜×•×ª, ×¨×•×—× ×™×•×ª, ××™×§×•×“ ×¤× ×™××™, × ×•×›×—×•×ª, ×™×© ×œ×™ ××§×•× ×‘×¢×•×œ×, ×œ×§×—×ª ×—×œ×§, ×œ×”×™×œ×§×— ×‘×—×©×‘×•×Ÿ, ×œ×”×™×•×ª ×‘×¢×œ ×—×©×™×‘×•×ª, ×©×™× ×•×™ ×¦×•×¨×”, ×”×ª××¨×”, ×©×—×¨×•×¨, ××•×“×¢×•×ª, ×¢×¨× ×•×ª, ×‘×”×™×¨×•×ª, ×‘×™×˜×•×™, ×™×›×•×œ×ª ×”×©×¤×¢×”, ×™×¢×™×œ×•×ª, ×”×ª×¤×ª×—×•×ª, ×’×“×™×œ×”, ×”×ª×§×“××•×ª, ×¦××™×—×”, ×“×¨×‘×•×Ÿ, ××ª×’×¨, ×”×©×¨××”, ×œ××™×“×”, ×™×¦×™×¨×ª×™×•×ª, ×”×¢×¦××”, ×™×›×•×œ×ª, ××¡×’×•×œ×•×ª, ×¢×•×¦××”, ×›×•×—, ×—×•×¡×Ÿ ×¤× ×™××™, ×›×‘×•×“ ×¢×¦××™, ×‘×™×˜×—×•×Ÿ ×¢×¦××™, ×¢×¨×š ×¢×¦××™, ×××•× ×”, ×”×¢×©×¨×ª ×”×—×™×™×, ×ª×§×•×•×”, ×ª×›×œ×™×ª, ×ª×”×œ×™×š, ×ª×¨×•××”</p>
                        </div>
                        <div>
                            <h3 style="color: #C86F7B; margin-bottom: 10px;">ğŸ’ ×—×™×‘×•×¨</h3>
                            <p>××“×™×‘×•×ª, ×¨×’×™×©×•×ª, ×¨×›×•×ª, ×¢×“×™× ×•×ª, ×§×‘×œ×”, ×”×›×œ×”, × ×ª×™× ×”, ×œ×—×œ×•×§, ×œ×”×™×•×ª ××•×‘×Ÿ (×”×‘× ×”), ×œ×”×‘×™×Ÿ, ×œ×”×™×©××¢ (×”×§×©×‘×”), ×œ×©××•×¢, ×œ×”×™×¨××•×ª (× ×¨××•×ª), ×œ×¨××•×ª, ×™×“×™×¢×”, ×¢×–×¨×”, ×ª××™×›×”, ×”×–× ×”, ×”××©×›×™×•×ª, ×¢×§×‘×™×•×ª, ×›×‘×•×“, ×”×“×“×™×•×ª, ×”×©×ª×ª×¤×•×ª, ×œ×”×™×•×ª ×—×œ×§, ×”×›×œ×œ×”, ×©×•×ª×¤×•×ª, ×¨×¢×•×ª, ×™×“×™×“×•×ª, ×—×‘×¨×•×ª, ×§×”×™×œ×”, ×©×™×™×›×•×ª, ×¤×ª×™×—×•×ª, ×××•×Ÿ, ×©×™×ª×•×£ ×¤×¢×•×œ×”, ×©×™×ª×•×¤×™×•×ª, ×ª×§×©×•×¨×ª, ×ª×©×•××ª ×œ×‘, ×”×›×¨×”, ×”×¢×¨×›×”, ×—×™×‘×”, ××™×©×•×¨, ×¢×™×“×•×“, ×××¤×ª×™×”, ×—××œ×”, ××™× ×˜×™××™×•×ª, ×§×¨×‘×”, ××”×‘×”, ×˜×™×¤×•×—, ××›×¤×ª×™×•×ª</p>
                        </div>
                        <div>
                            <h3 style="color: #8cb89c; margin-bottom: 10px;">ğŸƒâ€â™€ï¸ ×—×•×•×™×” ×’×•×¤× ×™×ª</h3>
                            <p>××’×¢, ×©×™× ×”, ×‘×™×˜×—×•×Ÿ ×¤×™×–×™, ×× ×•×—×”, ××™××•×Ÿ ×’×•×¤× ×™, ×ª× ×•×¢×”, ×”××©×›×™×•×ª, ×‘×™×˜×—×•×Ÿ ×¨×’×©×™, ×”×’× ×” ××¤× ×™ ×›××‘, ×‘×˜×™×—×•×ª, ×”×’× ×”, ××‘×˜×—×”, ××—×¡×”, ××•×¨, ××™×, ××–×•×Ÿ, ××•×•×™×¨</p>
                        </div>
                        <div>
                            <h3 style="color: #D4B896; margin-bottom: 10px;">âš–ï¸ ×”×¨××•× ×™×”</h3>
                            <p>×”×•×’× ×•×ª, ×©×•×•×™×•×Ÿ, ××™×–×•×Ÿ, ×™×¦×™×‘×•×ª, ×•×“××•×ª, ××™× ×˜×’×¨×¦×™×”, ×¢×™×›×•×œ, ×©×œ××•×ª, ××—×•×•×”, ××—×“×•×ª, ×¡×“×¨, ×™×•×¤×™, ×§×œ×™×œ×•×ª, ×©×œ×•×•×”, ×”×¨×¤×™×”, ×¨×•×’×¢, ×”×©×œ××”, ×©×œ×•×</p>
                        </div>
                    </div>
                    <div style="margin-top: 30px; padding: 15px; background: #d4e5da; border-radius: 10px; text-align: center;">
                        <strong style="color: #4a5568;">ğŸ’¡ ×—×©×•×‘ ×œ×–×›×•×¨:</strong> ×›×œ ×”×¦×¨×›×™× ×©×œ× ×• ×ª×§×¤×™× ×•×—×©×•×‘×™×. ×”×¨×’×© ×©×œ× ×• ××¦×‘×™×¢ ×¢×œ ×¦×¨×›×™× ×©××ª××œ××™× ××• ×œ× ××ª××œ××™×
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PIN Verification Screen -->
    <div id="pinScreen" class="container" style="display: none;">
        <div class="header">
            <h1>ğŸ” ×”×›× ×¡×ª ×¡×™×¡××</h1>
            <p>×©×œ×•× <span id="pinUsername"></span>, ×× × ×”×›× ×™×¡×™ ××ª ×”×¡×™×¡×× ×©×œ×š</p>
        </div>
        
        <div style="max-width: 300px; margin: 0 auto; text-align: center;">
            <div class="pin-section">
                <input type="password" id="pinVerification" class="pin-input" placeholder="****" maxlength="8" pattern="[0-9]{4,8}">
                <br>
                <button class="save-btn" onclick="verifyPin()" style="margin-top: 20px;">
                    âœ… ×›× ×™×¡×”
                </button>
                <br>
                <button class="nav-btn" onclick="backToLogin()" style="margin-top: 10px;">
                    â† ×—×–×•×¨
                </button>
            </div>
        </div>
    </div>
    
    <!-- Main App -->
    <div id="mainApp" class="container" style="display: none;">
        <div class="header">
            <!-- Logo for main app -->
            <img id="mainAppLogo" 
                 src="logo.png" 
                 alt="××œ ×¢×¦××™ - ××¡×¢ ×©×œ ×”×§×©×‘×” ×•×”×ª×¨×—×‘×•×ª ×”×œ×‘" 
                 style="max-width: 300px; width: 60%; height: auto; margin: 0 auto 20px; display: block;"
                 onerror="this.style.display='none';">
            <p><span style="color: #C86F7B; font-weight: bold;">×©×œ×•× <span id="currentUser"></span>!</span> ğŸ’œ</p>
            <div class="header-actions">
                <button class="hamburger" aria-label="×ª×¤×¨×™×˜" onclick="openMenu()">â˜°</button>
            </div>
            <input type="file" id="fileInput" accept=".json" style="display: none;" onchange="handleFileImport(this)">
        </div>
        
        <div style="text-align: center; margin-bottom: 20px;">
            <p class="calendar-hint">×‘×—×¨×™ ×™×•× ×•×§×—×™ ×¨×’×¢ ×§×˜ â€” ×œ×”×ª×§×¨×‘ ××œ ×¢×¦××š</p>
            <div class="month-year" id="monthYear" style="font-size: 2em; font-weight: 700; color: #737373; margin-bottom: 6px;"></div>
            <div class="calendar-nav" style="display: flex; justify-content: center; gap: 15px;">
                <button class="nav-btn" onclick="changeMonth(-1)">â†’ ×—×•×“×© ×§×•×“×</button>
                <button class="nav-btn" onclick="goToToday()">×”×™×•×</button>
                <button class="nav-btn" onclick="changeMonth(1)">×—×•×“×© ×”×‘× â†</button>
            </div>
        </div>
        
        <div class="calendar" id="calendar"></div>
    </div>

    <!-- Side menu elements -->
    <div class="menu-overlay" id="menuOverlay" onclick="closeMenu()"></div>
    <nav class="side-menu" id="sideMenu" role="navigation" aria-label="×ª×¤×¨×™×˜ ×¦×“">
        <button class="menu-close" aria-label="×¡×’×•×¨ ×ª×¤×¨×™×˜" onclick="closeMenu()">Ã—</button>
        <ul class="menu-list">
            <li><button class="menu-item" onclick="exportData(); closeMenu()">ğŸ’¾ ×©××™×¨×”</button></li>
            <li><button class="menu-item" onclick="exportToExcel(); closeMenu()">ğŸ“Š ×™×™×¦×•× ×œ××§×¡×œ</button></li>
            <li><button class="menu-item" onclick="importData(); closeMenu()">ğŸ“‚ ×©×—×–×•×¨</button></li>
            <hr class="menu-divider" />
            <li><button class="menu-item" onclick="showHelp(); closeMenu()">â“ ×¢×–×¨×”</button></li>
            <li><button class="menu-item" onclick="logout(); closeMenu()">ğŸšª ×”×ª× ×ª×§×•×ª</button></li>
        </ul>
    </nav>
    
    <div id="dayModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modalDate"></h2>
            
            <div class="section" id="moodSection">
                <div class="section-header">
                    <h3>ğŸ­ ××™×š ×× ×™ ××¨×’×™×©×” ×¢×›×©×™×•?</h3>
                </div>
                <div class="mood-selector">
                    <button class="mood-btn" data-mood="ğŸ˜Š">ğŸ˜Š ×©××—×”</button>
                    <button class="mood-btn" data-mood="ğŸ˜Œ">ğŸ˜Œ ×¨×•×’×¢</button>
                    <button class="mood-btn" data-mood="ğŸ’">ğŸ’ ×—××œ×”</button>
                    <button class="mood-btn" data-mood="ğŸ˜¢">ğŸ˜¢ ×¢×¦×‘×•×ª</button>
                    <button class="mood-btn" data-mood="ğŸ˜°">ğŸ˜° ×¤×—×“</button>
                    <button class="mood-btn" data-mood="ğŸ˜¤">ğŸ˜¤ ×¢×¦×‘× ×•×ª</button>
                    <button class="mood-btn" data-mood="ğŸ˜«">ğŸ˜« ×¢×™×™×¤×•×ª</button>
                    <button class="mood-btn" data-mood="ğŸ˜•">ğŸ˜• ×‘×œ×‘×•×œ</button>
                    <button class="mood-btn" data-mood="âš¡">âš¡ ×—×™×•×ª</button>
                    <button class="mood-btn" data-mood="ğŸ’ª">ğŸ’ª ×‘×™×˜×—×•×Ÿ</button>
                </div>
                <textarea id="feelings" placeholder="××” ×¢×•×‘×¨ ×œ×™ ×‘×¨××©? ××™×š ×”×’×•×£ ×©×œ×™ ××¨×’×™×©?"></textarea>
            </div>
            
            <div class="section" id="gratitudeSection">
                <div class="section-header">
                <h3>ğŸ’ ×”×›×¨×ª ×ª×•×“×”</h3>
                </div>
                <p style="margin-bottom: 10px; color: #666; font-size: 19px;">×¨×©××™ ×©×œ×•×©×” ×“×‘×¨×™× ×©×©×™××—×•, ×¨×™×’×©×• ××• ×’×¨××• ×œ×š ×œ×”×¨×’×©×” ×˜×•×‘×”. ×–×›×¨×™ ×œ×”×•×“×•×ª ×’× ×œ×¢×¦××š!</p>
                <textarea id="gratitude" placeholder="1. ××©×”×• ×©×”×™×” ×˜×•×‘ ×”×™×•×...&#10;2. ××©×”×• ×©×× ×™ ××¢×¨×™×›×” ×‘×¢×¦××™...&#10;3. ××™×©×”×• ××• ××©×”×• ×©×× ×™ ××¡×™×¨×ª ×ª×•×“×” ×¢×œ×™×•..."></textarea>
            </div>
            
            <div class="section collapsed" id="breathingSection">
                <div class="section-toggle" onclick="toggleSection('breathingSection')">
                    <h3>ğŸ« ×¨×’×¢ ×©×œ × ×©×™××”</h3>
                </div>
                <div class="section-content">
                    <div class="breathing-exercise">
                        <div class="breathing-circle" id="breathingCircle">× ×©×™××” ×¢××•×§×”</div>
                        <div style="margin-top: 25px;">
                            <button class="nav-btn breathing-btn" onclick="startBreathing()">×”×ª×—×œ×ª ×ª×¨×’×™×œ</button>
                            <p style="margin-top: 8px; color: #8cb89c; font-size: 17px; font-weight: 500;">×˜×›× ×™×§×ª 4-7-8 ×œ×”×¨×’×¢×•×ª</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section collapsed" id="meditationSection">
                <div class="section-toggle" onclick="toggleSection('meditationSection')">
                    <h3>ğŸ§˜â€â™€ï¸ ×¨×’×¢ ×©×œ ××“×™×˜×¦×™×”</h3>
                </div>
                <div class="section-content">
                    <p style="margin-bottom: 10px; color: #666; font-size: 19px;">
                        ×›××Ÿ ×ª××¦××™ ××’×•×•×Ÿ ××“×™×˜×¦×™×•×ª ×©×™×¢×–×¨×• ×œ×š ×œ×¢×¦×•×¨ ×œ×¨×’×¢, ×œ× ×©×•× ×•×œ×”×ª×—×‘×¨ ×œ×¢×¦××š. 
                        ×¤×©×•×˜ ×‘×—×¨×™ ××ª ××” ×©××ª××™× ×œ×š ×¢×›×©×™×• ×•×ª× ×™ ×œ×¢×¦××š ×¨×’×¢ ×©×œ ×©×§×˜ ×•×¨×•×’×¢.
                    </p>
                    <button class="meditation-btn" onclick="showMeditationsLibrary()">
                        ğŸ§ ××•×¡×£ ××“×™×˜×¦×™×•×ª
                    </button>
                    <textarea id="meditationNotes" placeholder="×–×• ×”×–×“×× ×•×ª ×‘×©×‘×™×œ×™ ×œ×”×§×©×™×‘ ×¤× ×™××” ×•×œ×›×ª×•×‘ ×œ×¢×¦××™ ×‘×›× ×•×ª, ×’× ×× ××œ×• ×¨×§ ××™×œ×™× ×‘×•×“×“×•×ª" style="margin-top: 10px; min-height: 80px;"></textarea>
                </div>
            </div>
            
            <div class="support-message" id="supportMessage">
                <div class="quote-content">
                    <span class="quote-symbol">â</span>
                    ğŸ’« ×× ×™ ×¨××•×™×” ×œ××”×‘×” ×•×œ×›×‘×•×“ - ××¢×¦××™ ×•×××—×¨×™×
                    <span class="quote-symbol">â</span>
                </div>
            </div>
            
            <div class="section analysis-section collapsed" id="cnvcSection">
                <div class="section-toggle" onclick="toggleSection('cnvcSection')">
                    <h3>ğŸ’¬ × ×™×ª×•×— ×¡×™×˜×•××¦×™×” â€“ ××•×“×œ ×ª×§×©×•×¨×ª ××§×¨×‘×ª</h3>
                </div>
                <div class="section-content">
                    <p style="margin-bottom: 12px; color: #666; font-size: 19px;">××•×“×œ CNVC (×ª×§×©×•×¨×ª ××§×¨×‘×ª) ×œ× ×™×ª×•×— ××¦×‘×™× ×¨×’×©×™×™×</p>
                    
                    <div style="background: white; padding: 12px; border-radius: 10px; margin-bottom: 8px;">
                        <h4 style="color: #8cb89c; margin-bottom: 10px;">ğŸ” ×ª×¦×¤×™×ª</h4>
                        <p style="font-size: 19.5px; color: #666; margin-bottom: 10px;"> ×ª××¨×™ ××ª ×”×¡×™×˜×•××¦×™×” ×©×§×¨×ª×”, ×‘×œ×™ ×¤×¨×©× ×•×ª ××• ×©×™×¤×•×˜.</p>
                        <textarea id="observation" placeholder="××” ×‘×“×™×•×§ ×§×¨×”? ×ª×™××•×¨ ×¢×•×‘×“×ª×™..."></textarea>
                    </div>
                    
                    <div style="background: white; padding: 12px; border-radius: 10px; margin-bottom: 8px;">
                        <div class="section-header">
                            <h4 style="color: #8cb89c; margin: 0;">ğŸ’™ ×¨×’×©</h4>
                            <button class="reference-btn" onclick="showEmotionsReference()">×¨×©×™××ª ×¨×’×©×•×ª</button>
                        </div>
                        <p style="font-size: 19.5px; color: #666; margin-bottom: 10px;"> ××™×œ×• ×¨×’×©×•×ª ×¢×•×œ×™× ×‘×š? ×‘×—×¨×™ ××¨×©×™××ª ×”×¨×’×©×•×ª.</p>
                        <textarea id="feeling" placeholder="×× ×™ ××¨×’×™×©×”... (×›×•×¢×¡×ª, ××•×˜×¨×“×ª, ×××•×›×–×‘×ª ×•×›×•')"></textarea>
                    </div>
                    
                    <div style="background: white; padding: 12px; border-radius: 10px; margin-bottom: 8px;">
                        <div class="section-header">
                            <h4 style="color: #8cb89c; margin: 0;">ğŸ¯ ×¦×•×¨×š</h4>
                            <button class="reference-btn" onclick="showNeedsReference()">×¨×©×™××ª ×¦×¨×›×™×</button>
                        </div>
                        <p style="font-size: 19.5px; color: #666; margin-bottom: 10px;"> ××™×œ×• ×¦×¨×›×™× ××¡×ª×ª×¨×™× ×××—×•×¨×™ ×”×¨×’×© ×”×–×”? ×‘×—×¨×™ ××¨×©×™××ª ×”×¦×¨×›×™×.</p>
                        <textarea id="need" placeholder="×× ×™ ×¦×¨×™×›×”... (×›×‘×•×“, ×”×‘× ×”, ×‘×™×˜×—×•×Ÿ, ×¡×“×¨ ×•×›×•')"></textarea>
                    </div>
                    
                    <div style="background: white; padding: 12px; border-radius: 10px; margin-bottom: 8px;">
                        <h4 style="color: #8cb89c; margin-bottom: 10px;">ğŸ™ ×‘×§×©×”</h4>
                        <p style="font-size: 19.5px; color: #666; margin-bottom: 10px;"> ×›×ª×‘×™ ×‘×¦×•×¨×” ×‘×¨×•×¨×”, ×¡×¤×¦×™×¤×™×ª ×•×—×™×•×‘×™×ª ××” ××ª ××‘×§×©×ª. ×”× ×™×¡×•×— ×¦×¨×™×š ×œ×”×™×•×ª ×©××œ×” ×•×œ× ×“×¨×™×©×” ××• ××•×œ×˜×™××˜×•×.</p>
                        <textarea id="request" placeholder="×”×× ×ª×•×›×œ×™ ×‘×‘×§×©×”...? / ×”×× ××¤×©×¨...?"></textarea>
                        <div style="background: #f0f8ff; padding: 10px; border-radius: 8px; margin-top: 10px; font-size: 17px; color: #666;">
                            <strong>ğŸ’¡ ×“×•×’××”:</strong><br>
                            <em>"×›×©×œ×§×—×ª ××ª ×”×˜×œ×¤×•×Ÿ ×©×œ×™ ×‘×œ×™ ×œ×©××•×œ (×ª×¦×¤×™×ª) ×”×¨×’×©×ª×™ ××ª×•×¡×›×œ×ª ×•×××•×›×–×‘×ª (×¨×’×©) ×›×™ ×—×©×•×‘ ×œ×™ ×œ×§×‘×œ ×”×ª×—×©×‘×•×ª ×•×”×¡×›××” ×œ×¤× ×™ ×©××©×ª××©×™× ×‘×“×‘×¨×™× ×©×œ×™ (×¦×•×¨×š). ×”×× ×ª×•×›×œ×™ ×‘×‘×§×©×” ×œ×©××•×œ ××•×ª×™ ××¨××© ×œ×¤× ×™ ×©××ª ××©×ª××©×ª ×‘×˜×œ×¤×•×Ÿ ×©×œ×™? (×‘×§×©×”)"</em>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section collapsed" id="patternsSection">
                <div class="section-toggle" onclick="toggleSection('patternsSection')">
                    <h3>ğŸ” ×–×™×”×•×™ ×“×¤×•×¡×™× ×¨×’×©×™×™× - ×ª×™××•×¨×™×™×ª ×–×™×”×•×™ ×ª×‘× ×™×•×ª</h3>
                </div>
                <div class="section-content">
                    <h4 style="color: #667eea; margin-bottom: 15px;">×× ×™ ×¢×•×¦×¨×ª ×¨×’×¢ ×œ×‘×“×•×§ ×¢× ×¢×¦××™ - ×”×× ×–×” ×§×•×¨×” ×œ×™ ×©×•×‘?</h4>
                    
                    <div style="margin-bottom: 8px;">
                        <label style="display: block; font-weight: bold; color: #4a5568; margin-bottom: 8px;">××™×š ×”×’×‘×ª×™ ×œ×¡×™×˜×•××¦×™×” ×”×–××ª?</label>
                        <textarea id="reaction_response" placeholder="×ª××¨×™ ××ª ×”×ª×’×•×‘×” ×©×œ×š..."></textarea>
                    </div>
                    
                    <div style="margin-bottom: 8px;">
                        <label style="display: block; font-weight: bold; color: #4a5568; margin-bottom: 8px;">×”×× ×§×¨×” ×œ×™ ××©×”×• ×“×•××” ×‘×¢×‘×¨?</label>
                        <textarea id="similar_past" placeholder="×”×× ×”×™×• ××¦×‘×™× ×“×•××™×? ××” ×§×¨×”?"></textarea>
                    </div>
                    
                    <div style="margin-bottom: 8px;">
                        <label style="display: block; font-weight: bold; color: #4a5568; margin-bottom: 8px;">××™×š ×× ×™ ××¨×’×™×©×” ××—×¨×™ ×”×ª×’×•×‘×” ×©×œ×™?</label>
                        <textarea id="feelings_after" placeholder="××” ×× ×™ ××¨×’×™×©×” ×›×©×× ×™ ×—×•×©×‘×ª ×¢×œ ××™×š ×”×’×‘×ª×™?"></textarea>
                    </div>
                    
                    <div style="margin-bottom: 8px;">
                        <label style="display: block; font-weight: bold; color: #4a5568; margin-bottom: 8px;">×”×× ×–×” ×”×©×¤×™×¢ ×¢×œ ×”×§×©×¨×™× ×©×œ×™ ×¢× ××—×¨×™×?</label>
                        <textarea id="impact_relationships" placeholder="××™×š ×–×” ×”×©×¤×™×¢ ×¢×œ ×”×§×©×¨×™× ×©×œ×™?"></textarea>
                    </div>
                    
                    <div style="margin-bottom: 8px;">
                        <label style="display: block; font-weight: bold; color: #4a5568; margin-bottom: 8px;">××™×š ×× ×™ ×—×•×©×‘×ª ×©×–×” ×”×©×¤×™×¢ ×¢×œ ×× ×©×™× ×©×”×™×• ××™×ª×™?</label>
                        <textarea id="impact_others" placeholder="××” ×× ×™ ×—×•×©×‘×ª ×©×”× ×”×¨×’×™×©×•?"></textarea>
                    </div>
                    
                    <div style="margin-bottom: 8px;">
                        <label style="display: block; font-weight: bold; color: #4a5568; margin-bottom: 8px;">××” ×”×™×™×ª×™ ×¨×•×¦×” ×œ× ×¡×•×ª ××• ×œ×©× ×•×ª ×‘×¤×¢× ×”×‘××”?</label>
                        <textarea id="want_to_change" placeholder="××™×š ×”×™×™×ª×™ ×¨×•×¦×” ×œ×”×’×™×‘ ×‘×¤×¢× ×”×‘××”?"></textarea>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; font-weight: bold; color: #4a5568; margin-bottom: 8px;">××” ×”×¦×¢×“ ×”×‘× ×©×œ×™? ×§×˜×Ÿ ××• ×’×“×•×œ â€“ ×›×œ ×¦×¢×“ ×—×©×•×‘!</label>
                        <textarea id="next_step" placeholder="××™×–×” ×¦×¢×“ ×× ×™ ×™×›×•×œ×” ×œ×¢×©×•×ª?"></textarea>
                    </div>
                    
                <div style="background: #F0F8F0; padding: 12px; border-radius: 10px; margin-bottom: 8px; text-align: center;">
                    <p style="color: #8cb89c; font-size: 19px; margin: 0; line-height: 1.6;">
                        ğŸ’š <strong>×–×›×¨×™ ×©×›×œ ×©×™× ×•×™ ×œ×•×§×— ×–××Ÿ, ×”×¨×©×™ ×œ×¢×¦××š ×œ×˜×¢×•×ª ×•×œ×œ××•×“ ×‘×“×¨×š ×©×œ×š.</strong>
                    </p>
                </div>
                    
                    <div style="margin-bottom: 8px;">
                        <label style="display: block; font-weight: bold; color: #4a5568; margin-bottom: 8px;">×—×–×¨×™ ×œ×›××Ÿ ×‘×”××©×š ×›×“×™ ×œ×¨×©×•× ×”×¦×œ×—×•×ª ××• ×©×™× ×•×™×™× ×©×”×¨×’×©×ª ×××– ×©×¢×‘×“×ª ×¢×œ ×”××•×“×¢×•×ª ×”×–×•:</label>
                        <textarea id="follow_up_progress" placeholder="××” ×”×©×ª× ×”? ××™×š ×–×” ×”×¨×’×™×©?"></textarea>
                    </div>
                </div>
            </div>
            
            <div class="warning-section" style="background: #F9F5E6; border: 2px solid #D4B896; color: #8B7355;">
                <h4 style="color: #8cb89c; margin-bottom: 10px;">ğŸ’š ××™×œ×™× ×©×œ ×¢×™×“×•×“ ×•×ª××™×›×”</h4>
                <p style="margin: 0; line-height: 1.6;">
                    ×× ××ª ××–×”×” ×“×¤×•×¡×™× ×©×—×•×–×¨×™× ×¢×œ ×¢×¦×× ××• ×›××‘ ×¨×’×©×™ ×©×œ× ×¢×•×‘×¨, ×–×›×¨×™ ×©×ª××™×“ ××¤×©×¨ ×œ×”×™×¢×–×¨ ×‘××™×© ××§×¦×•×¢. 
                    ×¤× ×™×™×” ×œ××˜×¤×œ ××• ×™×•×¢×¥ ×”×™× ×¦×¢×“ ×××™×¥ ×•×—×–×§ ×‘×“×¨×š ×©×œ×š ×œ×”×¨×’×™×© ×˜×•×‘ ×™×•×ª×¨. ğŸ’ª
                </p>
            </div>
            
            <div class="section">
                <h3>ğŸ¯ ×¡×™××•×Ÿ ×™×•× ××™×•×—×“</h3>
                <div class="mood-selector">
                    <button class="mood-btn" data-special="significant">âœ¨ ×™×•× ××©××¢×•×ª×™</button>
                    <button class="mood-btn" data-special="review">ğŸ” ×™×© ×¢×•×“ ××” ×œ×”×¢××™×§</button>
                </div>
            </div>
            
            <button class="save-btn" onclick="saveEntry()">ğŸ’¾ ×©××•×¨ ××ª ×”×¨×©×™××” ×©×œ×™</button>
        </div>
    </div>
    
    <script>
        let currentDate = new Date();
        let selectedDate = null;
        let entries = {};
        let breathingInterval = null;
        let currentUsername = null;
        let userPin = null;
        // Google Sign-In state
        const CLIENT_ID = '779780363006-hpe45dv1db87rrp1il2d2jr17tugbid8.apps.googleusercontent.com';
        const GOOGLE_SCOPES = 'https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email';
        let googleAccessToken = null;
        let googleUser = null;
        
        const supportMessages = [
            "×× ×™ ×¨××•×™×” ×œ××”×‘×” ×•×œ×›×‘×•×“ - ××¢×¦××™ ×•×××—×¨×™×",
            "×”×¨×’×©×•×ª ×©×œ×™ ×ª×§×¤×™× ×•×—×©×•×‘×™×",
            "×× ×™ ×œ×•××“×ª ×•××ª×¤×ª×—×ª ×›×œ ×™×•×",
            "×× ×™ ×—×–×§×” ×™×•×ª×¨ ×××” ×©×× ×™ ×—×•×©×‘×ª",
            "×–×” ×‘×¡×“×¨ ×œ× ×œ×”×™×•×ª ××•×©×œ××ª",
            "×× ×™ ×¢×•×©×” ×›××™×˜×‘ ×™×›×•×œ×ª×™ ×¢× ××” ×©×™×© ×œ×™",
            "×§×©×™×™× ×”× ×”×–×“×× ×•×™×•×ª ×œ×¦××™×—×”",
            "×× ×™ ××’×œ×” ×—××œ×” ×›×œ×¤×™ ×¢×¦××™",
            "×××•× ×”, ××¢×©×™× ×˜×•×‘×™× ×•×—×›××” ×”× ×”××¤×ª×— ×œ×¨×•×’×¢ ×•×©×œ×•× ×¤× ×™××™",
            "×”×“×¨×š ××™× ×” ×‘×©××™×™×, ××œ× ×‘×œ×‘",
            "×”×›×•×— ×©×œ×š ××™× ×• ××’×™×¢ ×××” ×©×§×•×¨×” ×œ×š, ××œ× ××”×‘×—×™×¨×” ×©×œ×š ×›×™×¦×“ ×œ×”×’×™×‘",
            "×”×©×œ×•×•×” ××’×™×¢×” ××‘×¤× ×™×, ××œ ×ª×—×¤×©×™ ××•×ª×” ×‘×—×•×¥",
            "×× ×‘×¨×¦×•× ×š ×©××—×¨×™× ×™×”×™×• ×××•×©×¨×™×, × ×”×’×™ ×‘×—××œ×”. ×× ×‘×¨×¦×•× ×š ×©××ª ×ª×”×™×™ ×××•×©×¨×ª, × ×”×’×™ ×‘×—××œ×”",
            "×“××’×” ××™× ×” ×¢×•×–×¨×ª. ×”×¤× ×™ ××ª ×ª×©×•××ª ×œ×‘×š ××”×¢×ª×™×“ ××œ ×”×”×•×•×”",
            "×”××§×•×¨ ×”×¢×™×§×¨×™ ×œ×¡×‘×œ ×”×™× ×”×”×¨×’×©×” ×©×”×“×‘×¨×™× ××™× × ×›×¤×™ ×©×”×™×™×ª ×¨×•×¦×” ×©×™×”×™×•",
            "××œ ×ª×™×ª× ×™ ×œ××—×¨×™× ×œ×”×›×¢×™×¡ ××•×ª×š, ××• ×œ×—×œ×•×¤×™×Ÿ, ×œ×¦×¤×•×ª ×©×”× ×™×”×™×• ×”××§×•×¨ ×œ××•×©×¨×š. ×–×• ××—×¨×™×•×ª×š ×©×œ×š ×œ×”×©×™×’ ×©×§×˜ ×¤× ×™××™",
            "×›×©××ª ×¢×•×–×¨×ª ×œ×¢×¦××š ××ª ×¢×•×–×¨×ª ×œ××—×¨×™×. ×”× × ×”× ×™× ××›×š ×©××ª ×©×œ×•×•×”, ×©××—×”, × ×“×™×‘×” ×•××œ××” ×”×¢×¨×›×” ×¢×œ ×—×™×™×š",
            "×›××©×¨ ××ª ××¨×’×™×©×” ××™× ×˜×™××™×•×ª ×¢× ×× ×©×™×, ×“×‘×¨×™× ×•××¦×‘×™×, ××ª × ×¤×ª×—×ª ××œ×™×”× ×•××¨×’×™×©×” ×™×•×ª×¨ ×§×¨×•×‘×” ××œ×™×”×, ××¤×™×œ×• ×× ×“×‘×¨ ×œ× × ×××¨",
            "××œ ×ª×‘×¡×¡×™ ××ª ×”×¢×¨×›×ª×š ×”×¢×¦××™×ª ×¢×œ ×”×©×•×•××” ×œ××—×¨×™×. ×—×™×™ ××¢×‘×¨ ×œ×“×‘×¨×™ ×©×‘×— ×•×”×™×× ×¢×™ ××”××©××•×ª",
            "×× ××ª ××¨×’×™×©×” ×©××ª ×××‘×“×ª ××ª ×ª×©×•××ª ×œ×™×‘×š ×¢×¦×¨×™ ×•× ×©××™ × ×©×™××•×ª ×¢××•×§×•×ª",
            "× ×¡×™ ×œ×”×•×“×•×ª ×œ××™×©×”×• ×›×œ ×™×•×",
            "×¢×œ×™× ×• ×œ×‘×œ×•×ª ×—×œ×§ ××”×–××Ÿ ×¢× ×¢×¦×× ×•",
            "×“×™×‘×•×¨ ××•×”×‘ ×•×”×§×©×‘×” ××œ××” ×”× ×”××¤×ª×— ×œ×‘× ×™×™×ª ×ª×§×©×•×¨×ª",
            "×–×”×™ ××ª ×”×“×¨×›×™× ×”×¨×‘×•×ª ×‘×”×Ÿ ×× ×©×™× ××‘×™×¢×™× ××”×‘×” ×‘×œ×™ ×œ×•××¨ ×–××ª",
            "×œ×”×‘×™×˜ ×‘×¢×™× ×™×™× ×•×œ×ª×ª ××ª ××œ×•× ×ª×©×•××ª ×”×œ×‘ ×©×œ×š ×”×™× ××ª× ×” ×’×“×•×œ×”",
            "×œ×ª×¤×•×¡ ××¨×—×§ × ×¤×©×™ ×××“× ××¢×œ×™×‘ ×–×” ×—×©×•×‘ ×™×•×ª×¨ ×××©×¨ ×œ× ×¡×•×ª ×œ×”×•×›×™×— ××ª ×¦×“×§×ª×š",
            "×œ×”×¢× ×™×§ ×ª×©×•××ª ×œ×‘ ×”×™× ××—×“ ××‘×™×˜×•×™×™ ×”××”×‘×”",
            "×”×ª××× ×™ ×œ×”×§×©×™×‘ ×œ××—×¨×™×, ××™× ×š ×œ×•××“×ª ×©×•× ×“×‘×¨ ×—×“×© ×›×©××ª ××“×‘×¨×ª",
            "×× ××ª ×¢×•×©×” ××©×”×• ×‘××•×ª×• ×–××Ÿ ×›×œ ×™×•×, ×”×•× × ×¢×©×” ×§×œ ×œ×‘×™×¦×•×¢ ×•×˜×‘×¢×™",
            "×”××§×˜ ×©×œ ×œ×©×—×¨×¨ ××©×”×• ×”×•× ×—×œ×§ ××©××¢×•×ª×™ ××”×¨×™×ª××•×¡ ×©×œ ×”×˜×‘×¢, ×•×›××•×”×• ×’× ×”×œ×™×“×” ××—×“×©",
            "×‘×¨×’×¢×™× ×©××™× ×š ××ª×‘×•×“×“×ª, ×”×§×™×¤×™ ××ª ×¢×¦××š ×‘×× ×©×™× ×©××ª××™××™× ×œ×¢×¨×›×™× ×©×œ×š",
            "×›×›×œ ×©×× ×• ××‘×™× ×™× ×˜×•×‘ ×™×•×ª×¨ ××ª ×¢×¦×× ×• ×›×š × ×‘×™×Ÿ ××—×¨×™×",
            "×× ×™ ××›×‘×“×ª ××ª ××™ ×©×× ×™",
            "×¢×‘×•×“×”, ×× ×•×—×” ×•××©×—×§ ×”× ×©×œ×•×©×” ×“×‘×¨×™× ×©×ª×•×¨××™× ×œ××¨×§× ×—×™×™×š",
            "×›×œ ×™×•× ×”×•× ×”×–×“×× ×•×ª ×—×“×©×”"
        ];
        
        const monthNames = [
            '×™× ×•××¨', '×¤×‘×¨×•××¨', '××¨×¥', '××¤×¨×™×œ', '×××™', '×™×•× ×™',
            '×™×•×œ×™', '××•×’×•×¡×˜', '×¡×¤×˜××‘×¨', '××•×§×˜×•×‘×¨', '× ×•×‘××‘×¨', '×“×¦××‘×¨'
        ];
        
        const dayNames = ['×', '×‘', '×’', '×“', '×”', '×•', '×©'];
        
        // Reference modal functions
        function showEmotionsReference() {
            const sidePanel = document.getElementById('emotionsSidePanel');
            sidePanel.style.display = 'block';
            // Add active class after a small delay to trigger animation
            setTimeout(() => {
                sidePanel.classList.add('active');
            }, 10);
        }

        // Load Google Identity and API scripts
        function loadGoogleScripts() {
            return new Promise((resolve) => {
                const gsi = document.createElement('script');
                gsi.src = 'https://accounts.google.com/gsi/client';
                gsi.async = true;
                gsi.defer = true;
                gsi.onload = () => {
                    const gapi = document.createElement('script');
                    gapi.src = 'https://apis.google.com/js/api.js';
                    gapi.onload = () => resolve(true);
                    gapi.onerror = () => resolve(false);
                    document.head.appendChild(gapi);
                };
                gsi.onerror = () => resolve(false);
                document.head.appendChild(gsi);
            });
        }

        // Google Sign-In using OAuth2 token client
        async function handleGoogleSignIn() {
            if (typeof google === 'undefined' || !google.accounts?.oauth2) {
                alert('Google Sign-In ×œ× ×–××™×Ÿ ×›×¨×’×¢. × ×¡×™ ×©×•×‘ ×‘×¢×•×“ ×¨×’×¢.');
                return;
            }
            try {
                const client = google.accounts.oauth2.initTokenClient({
                    client_id: CLIENT_ID,
                    scope: GOOGLE_SCOPES,
                    callback: async (resp) => {
                        googleAccessToken = resp.access_token;
                        await getGoogleUserInfo();
                        const displayName = (googleUser && (googleUser.name || googleUser.email)) || 'GoogleUser';
                        const rememberMe = document.getElementById('rememberMeGoogleCheckbox').checked;
                        
                        // Show login success message if remember me is enabled
                        if (rememberMe) {
                            setTimeout(() => {
                                alert(`ğŸ‰ ×”×ª×—×‘×¨×ª ×‘×”×¦×œ×—×” ×¢× Google!\n\nâœ… ×ª×™×©××¨×™ ××—×•×‘×¨×ª ×œ××©×š 30 ×™××™×\n\nğŸ’¡ ×ª×•×›×œ×™ ×ª××™×“ ×œ×”×ª× ×ª×§ ×™×“× ×™×ª ××”×ª×¤×¨×™×˜ ×”×¦×“`);
                            }, 1000);
                        }
                        
                        // Store Google session info
                        if (rememberMe) {
                            const sessionData = {
                                username: displayName,
                                timestamp: Date.now(),
                                expiresAt: Date.now() + (30 * 24 * 60 * 60 * 1000), // 30 days
                                isGoogleUser: true
                            };
                            safeSetItem('loginSession', JSON.stringify(sessionData));
                        }
                        
                        proceedToMainApp(displayName, rememberMe);
                    }
                });
                client.requestAccessToken();
            } catch (e) {
                console.error('Google Sign-In error', e);
                alert('×©×’×™××” ×‘×”×ª×—×‘×¨×•×ª ×œ-Google');
            }
        }

        async function getGoogleUserInfo() {
            if (!googleAccessToken) return;
            try {
                const res = await fetch('https://www.googleapis.com/oauth2/v2/userinfo', {
                    headers: { Authorization: `Bearer ${googleAccessToken}` }
                });
                googleUser = await res.json();
            } catch (e) {
                console.error('Failed fetching Google user info', e);
            }
        }
        
        function closeEmotionsReference() {
            document.getElementById('emotionsModal').style.display = 'none';
        }
        
        function closeEmotionsSidePanel() {
            const sidePanel = document.getElementById('emotionsSidePanel');
            sidePanel.classList.remove('active');
            // Hide panel after animation completes
            setTimeout(() => {
                sidePanel.style.display = 'none';
            }, 300);
        }
        
        function showNeedsReference() {
            const sidePanel = document.getElementById('needsSidePanel');
            sidePanel.style.display = 'block';
            // Add active class after a small delay to trigger animation
            setTimeout(() => {
                sidePanel.classList.add('active');
            }, 10);
        }
        
        function closeNeedsReference() {
            document.getElementById('needsModal').style.display = 'none';
        }
        
        function closeNeedsSidePanel() {
            const sidePanel = document.getElementById('needsSidePanel');
            sidePanel.classList.remove('active');
            // Hide panel after animation completes
            setTimeout(() => {
                sidePanel.style.display = 'none';
            }, 300);
        }
        
        // Section toggle function
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            section.classList.toggle('collapsed');
            
            // Ensure content is always visible when toggling
            const content = section.querySelector('.section-content');
            if (content) {
                if (section.classList.contains('collapsed')) {
                    content.style.display = 'none';
                } else {
                    content.style.display = 'block';
                }
            }
        }
        
        function generateCalendar() {
            const calendar = document.getElementById('calendar');
            const monthYear = document.getElementById('monthYear');
            
            calendar.innerHTML = '';
            monthYear.textContent = `${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
            
            // Add day headers
            dayNames.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'calendar-header';
                dayHeader.textContent = day;
                calendar.appendChild(dayHeader);
            });
            
            const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
            const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
            const startDate = new Date(firstDay);
            startDate.setDate(startDate.getDate() - firstDay.getDay());
            
            const today = new Date();
            
            for (let i = 0; i < 42; i++) {
                const day = new Date(startDate);
                day.setDate(startDate.getDate() + i);
                
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                
                if (day.getMonth() !== currentDate.getMonth()) {
                    dayElement.classList.add('other-month');
                }
                
                if (day.toDateString() === today.toDateString()) {
                    dayElement.classList.add('today');
                }
                
                // Fixed date key generation
                const year = day.getFullYear();
                const month = String(day.getMonth() + 1).padStart(2, '0');
                const dayNum = String(day.getDate()).padStart(2, '0');
                const dateKey = `${year}-${month}-${dayNum}`;
                if (entries[dateKey]) {
                    // Check if there's actual content in the entry
                    const entry = entries[dateKey];
                    const hasContent = entry.feelings || entry.gratitude || entry.observation || 
                                     entry.feeling || entry.need || entry.request || 
                                     entry.reaction_response || entry.similar_past || 
                                     entry.feelings_after || entry.impact_relationships || 
                                     entry.impact_others || entry.want_to_change || 
                                     entry.next_step || entry.follow_up_progress || 
                                     entry.selectedMood;
                    
                    if (hasContent) {
                        dayElement.classList.add('has-entry');
                    }
                    
                    // Add special day icon if exists (without changing color)
                    if (entry.specialDay === 'significant') {
                        const specialIcon = document.createElement('div');
                        specialIcon.className = 'day-special-icon';
                        specialIcon.textContent = 'âœ¨';
                        dayElement.appendChild(specialIcon);
                    } else if (entry.specialDay === 'review') {
                        const specialIcon = document.createElement('div');
                        specialIcon.className = 'day-special-icon';
                        specialIcon.textContent = 'ğŸ”';
                        dayElement.appendChild(specialIcon);
                    }
                }
                
                const dayNumber = document.createElement('div');
                dayNumber.className = 'day-number';
                dayNumber.textContent = day.getDate();
                
                dayElement.appendChild(dayNumber);
                
                dayElement.addEventListener('click', () => openDay(day));
                calendar.appendChild(dayElement);
            }
        }
        
        function changeMonth(direction) {
            currentDate.setMonth(currentDate.getMonth() + direction);
            generateCalendar();
        }
        
        function goToToday() {
            currentDate = new Date();
            generateCalendar();
        }
        
        function openDay(date) {
            selectedDate = date;
            const modal = document.getElementById('dayModal');
            const modalDate = document.getElementById('modalDate');
            
            modalDate.textContent = `ğŸ“… ${date.getDate()} ${monthNames[date.getMonth()]} ${date.getFullYear()}`;
            
            // Load existing entry if exists - Fixed date key generation
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            const dateKey = `${year}-${month}-${day}`;
            const entry = entries[dateKey] || {};
            
            // Load existing entry values safely
            const feelingsEl = document.getElementById('feelings');
            const gratitudeEl = document.getElementById('gratitude');
            const meditationNotesEl = document.getElementById('meditationNotes');
            const observationEl = document.getElementById('observation');
            const feelingEl = document.getElementById('feeling');
            const needEl = document.getElementById('need');
            const requestEl = document.getElementById('request');
            
            // Pattern analysis fields
            const reactionResponseEl = document.getElementById('reaction_response');
            const similarPastEl = document.getElementById('similar_past');
            const feelingsAfterEl = document.getElementById('feelings_after');
            const impactRelationshipsEl = document.getElementById('impact_relationships');
            const impactOthersEl = document.getElementById('impact_others');
            const wantToChangeEl = document.getElementById('want_to_change');
            const nextStepEl = document.getElementById('next_step');
            const followUpProgressEl = document.getElementById('follow_up_progress');
            
            if (feelingsEl) feelingsEl.value = entry.feelings || '';
            if (gratitudeEl) gratitudeEl.value = entry.gratitude || '';
            if (meditationNotesEl) meditationNotesEl.value = entry.meditationNotes || '';
            if (observationEl) observationEl.value = entry.observation || '';
            if (feelingEl) feelingEl.value = entry.feeling || '';
            if (needEl) needEl.value = entry.need || '';
            if (requestEl) requestEl.value = entry.request || '';
            
            // Load pattern analysis fields
            if (reactionResponseEl) reactionResponseEl.value = entry.reaction_response || '';
            if (similarPastEl) similarPastEl.value = entry.similar_past || '';
            if (feelingsAfterEl) feelingsAfterEl.value = entry.feelings_after || '';
            if (impactRelationshipsEl) impactRelationshipsEl.value = entry.impact_relationships || '';
            if (impactOthersEl) impactOthersEl.value = entry.impact_others || '';
            if (wantToChangeEl) wantToChangeEl.value = entry.want_to_change || '';
            if (nextStepEl) nextStepEl.value = entry.next_step || '';
            if (followUpProgressEl) followUpProgressEl.value = entry.follow_up_progress || '';
            
            // Reset mood and special day selection
            document.querySelectorAll('.mood-btn').forEach(btn => {
                btn.classList.remove('selected');
                if (entry.selectedMood && btn.dataset.mood === entry.selectedMood) {
                    btn.classList.add('selected');
                }
                if (btn.dataset.special && entry.specialDay === btn.dataset.special) {
                    btn.classList.add('selected');
                }
            });
            
            // Show random support message
            const supportMessage = document.getElementById('supportMessage');
            const randomMessage = supportMessages[Math.floor(Math.random() * supportMessages.length)];
            supportMessage.innerHTML = `<div class="quote-content"><span class="quote-symbol">â</span>${randomMessage}<span class="quote-symbol">â</span></div>`;
            
            // Sections are now open by default
            // No need to add collapsed state
            
            modal.style.display = 'block';
        }
        
        function closeModal() {
            document.getElementById('dayModal').style.display = 'none';
            if (breathingInterval) {
                clearInterval(breathingInterval);
                breathingInterval = null;
            }
        }
        
        function saveEntry() {
            if (!selectedDate) return;
            
            // Fixed date key generation
            const year = selectedDate.getFullYear();
            const month = String(selectedDate.getMonth() + 1).padStart(2, '0');
            const day = String(selectedDate.getDate()).padStart(2, '0');
            const dateKey = `${year}-${month}-${day}`;
            const selectedMoodBtn = document.querySelector('.mood-btn[data-mood].selected');
            const selectedSpecialBtn = document.querySelector('.mood-btn[data-special].selected');
            
            // Get values safely
            const feelingsEl = document.getElementById('feelings');
            const gratitudeEl = document.getElementById('gratitude');
            const meditationNotesEl = document.getElementById('meditationNotes');
            const observationEl = document.getElementById('observation');
            const feelingEl = document.getElementById('feeling');
            const needEl = document.getElementById('need');
            const requestEl = document.getElementById('request');
            
            // Pattern analysis fields
            const reactionResponseEl = document.getElementById('reaction_response');
            const similarPastEl = document.getElementById('similar_past');
            const feelingsAfterEl = document.getElementById('feelings_after');
            const impactRelationshipsEl = document.getElementById('impact_relationships');
            const impactOthersEl = document.getElementById('impact_others');
            const wantToChangeEl = document.getElementById('want_to_change');
            const nextStepEl = document.getElementById('next_step');
            const followUpProgressEl = document.getElementById('follow_up_progress');
            
            // Check if there's any content
            const hasContent = 
                (feelingsEl && feelingsEl.value) ||
                (gratitudeEl && gratitudeEl.value) ||
                (meditationNotesEl && meditationNotesEl.value) ||
                (observationEl && observationEl.value) ||
                (feelingEl && feelingEl.value) ||
                (needEl && needEl.value) ||
                (requestEl && requestEl.value) ||
                (reactionResponseEl && reactionResponseEl.value) ||
                (similarPastEl && similarPastEl.value) ||
                (feelingsAfterEl && feelingsAfterEl.value) ||
                (impactRelationshipsEl && impactRelationshipsEl.value) ||
                (impactOthersEl && impactOthersEl.value) ||
                (wantToChangeEl && wantToChangeEl.value) ||
                (nextStepEl && nextStepEl.value) ||
                (followUpProgressEl && followUpProgressEl.value) ||
                selectedMoodBtn ||
                selectedSpecialBtn;
            
            if (!hasContent) {
                // If no content, delete the entry
                delete entries[dateKey];
            } else {
                // Save the entry
                entries[dateKey] = {
                    feelings: feelingsEl ? feelingsEl.value : '',
                    gratitude: gratitudeEl ? gratitudeEl.value : '',
                    meditationNotes: meditationNotesEl ? meditationNotesEl.value : '',
                    observation: observationEl ? observationEl.value : '',
                    feeling: feelingEl ? feelingEl.value : '',
                    need: needEl ? needEl.value : '',
                    request: requestEl ? requestEl.value : '',
                    reaction_response: reactionResponseEl ? reactionResponseEl.value : '',
                    similar_past: similarPastEl ? similarPastEl.value : '',
                    feelings_after: feelingsAfterEl ? feelingsAfterEl.value : '',
                    impact_relationships: impactRelationshipsEl ? impactRelationshipsEl.value : '',
                    impact_others: impactOthersEl ? impactOthersEl.value : '',
                    want_to_change: wantToChangeEl ? wantToChangeEl.value : '',
                    next_step: nextStepEl ? nextStepEl.value : '',
                    follow_up_progress: followUpProgressEl ? followUpProgressEl.value : '',
                    selectedMood: selectedMoodBtn ? selectedMoodBtn.dataset.mood : null,
                    specialDay: selectedSpecialBtn ? selectedSpecialBtn.dataset.special : null,
                    savedAt: new Date().toLocaleDateString('he-IL') + ' ' + new Date().toLocaleTimeString('he-IL')
                };
            }
            
            // Store in user-specific localStorage key
            if (!safeSetItem(getUserDataKey(), JSON.stringify(entries))) {
                // Data will only be saved for this session
            }
            
            generateCalendar();
            closeModal();
            
            if (hasContent) {
                alert('âœ… ×”×¨×©×•××” × ×©××¨×” ×‘×”×¦×œ×—×”!');
            } else {
                alert('âœ… ×”×¨×©×•××” × ××—×§×” (×œ× ×”×™×” ×ª×•×›×Ÿ)');
            }
        }
        
        function startBreathing() {
            const circle = document.getElementById('breathingCircle');
            const button = event.target;
            let currentPhase = 'inhale'; // inhale, hold, exhale
            let cycleCount = 0;
            let phaseStartTime = Date.now();
            
            // Phase durations in milliseconds
            const inhaleDuration = 4000; // 4 seconds
            const holdDuration = 7000;   // 7 seconds
            const exhaleDuration = 8000; // 8 seconds
            
            if (breathingInterval) {
                clearInterval(breathingInterval);
                breathingInterval = null;
                circle.innerHTML = '× ×©×™××” ×¢××•×§×”';
                circle.className = 'breathing-circle';
                circle.style.transform = 'scale(1)';
                circle.style.borderWidth = '3px';
                circle.style.boxShadow = '0 0 0 rgba(140, 184, 156, 0)';
                circle.style.background = 'transparent';
                circle.style.removeProperty('--inner-opacity');
                button.textContent = '×”×ª×—×œ×ª ×ª×¨×’×™×œ';
                return;
            }
            
            button.textContent = '×¢×¦×™×¨×ª ×ª×¨×’×™×œ';
            circle.textContent = '×”×ª×›×•× ×Ÿ...';
            
            setTimeout(() => {
                phaseStartTime = Date.now();
                breathingInterval = setInterval(() => {
                    const currentTime = Date.now();
                    const phaseElapsed = currentTime - phaseStartTime;
                    
                    if (currentPhase === 'inhale') {
                        // Calculate scale from 1 to 1.5 over 4 seconds
                        const progress = Math.min(phaseElapsed / inhaleDuration, 1);
                        const scale = 1 + (progress * 0.5);
                        
                        circle.style.transform = `scale(${scale})`;
                        circle.style.borderWidth = `${3 + (progress * 2)}px`;
                        circle.style.boxShadow = `0 0 ${10 + (progress * 20)}px rgba(140, 184, 156, ${0.3 + (progress * 0.4)})`;
                        circle.style.background = `rgba(140, 184, 156, ${progress * 0.1})`;
                        circle.innerHTML = `×©××™×¤×” ×¢××•×§×”<br>×¡×‘×‘ ${cycleCount + 1}/4`;
                        
                        if (phaseElapsed >= inhaleDuration) {
                            currentPhase = 'hold';
                            phaseStartTime = currentTime;
                        }
                    } else if (currentPhase === 'hold') {
                        // Keep scale at 1.5 for 7 seconds
                        
                        circle.style.transform = 'scale(1.5)';
                        circle.style.borderWidth = '5px';
                        circle.style.boxShadow = '0 0 30px rgba(140, 184, 156, 0.7)';
                        circle.style.background = 'rgba(140, 184, 156, 0.1)';
                        circle.innerHTML = `×”×—×–×§×”<br>×¡×‘×‘ ${cycleCount + 1}/4`;
                        
                        if (phaseElapsed >= holdDuration) {
                            currentPhase = 'exhale';
                            phaseStartTime = currentTime;
                        }
                    } else if (currentPhase === 'exhale') {
                        // Calculate scale from 1.5 to 1 over 8 seconds
                        const progress = Math.min(phaseElapsed / exhaleDuration, 1);
                        const scale = 1.5 - (progress * 0.5);
                        
                        circle.style.transform = `scale(${scale})`;
                        circle.style.borderWidth = `${5 - (progress * 2)}px`;
                        circle.style.boxShadow = `0 0 ${30 - (progress * 20)}px rgba(140, 184, 156, ${0.7 - (progress * 0.4)})`;
                        circle.style.background = `rgba(140, 184, 156, ${0.1 - (progress * 0.1)})`;
                        circle.innerHTML = `× ×©×™×¤×”<br>×¡×‘×‘ ${cycleCount + 1}/4`;
                        
                        if (phaseElapsed >= exhaleDuration) {
                            currentPhase = 'inhale';
                            cycleCount++;
                            phaseStartTime = currentTime;
                            
                            if (cycleCount >= 4) {
                                clearInterval(breathingInterval);
                                breathingInterval = null;
                                circle.innerHTML = '××™×š ××ª ××¨×’×™×©×”?';
                                circle.className = 'breathing-circle';
                                circle.style.transform = 'scale(1)';
                                circle.style.borderWidth = '3px';
                                circle.style.boxShadow = '0 0 0 rgba(140, 184, 156, 0)';
                                circle.style.background = 'transparent';

                                button.textContent = '×”×ª×—×œ×ª ×ª×¨×’×™×œ';
                                return;
                            }
                        }
                    }
                }, 50); // Check every 50ms for smoother animations
            }, 1000);
        }
        
        // Safe localStorage wrapper functions
        function safeGetItem(key) {
            try {
                return localStorage ? localStorage.getItem(key) : null;
            } catch(e) {
                return null;
            }
        }
        
        function safeSetItem(key, value) {
            try {
                if (localStorage) {
                    localStorage.setItem(key, value);
                    return true;
                }
            } catch(e) {}
            return false;
        }
        
        // User Management Functions
        function login() {
            const username = document.getElementById('usernameInput').value.trim();
            const pin = document.getElementById('pinInput').value.trim();
            const rememberMe = document.getElementById('rememberMeCheckbox').checked;
            
            if (!username) {
                alert('×× × ×”×›× ×™×¡×™ ×©× ××©×ª××©');
                return;
            }
            
            if (pin && (pin.length < 4 || pin.length > 8 || !/^\d+$/.test(pin))) {
                alert('×¡×™×¡×× ×—×™×™×‘×ª ×œ×”×™×•×ª 4-8 ×¡×¤×¨×•×ª ×‘×œ×‘×“');
                return;
            }
            
            // Check if user already exists with a PIN
            const existingPin = safeGetItem(`pin_${username}`);
            if (existingPin && !pin) {
                // User has a PIN but didn't enter it - go to PIN screen
                document.getElementById('pinUsername').textContent = username;
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('pinScreen').style.display = 'block';
                return;
            } else if (existingPin && pin) {
                // User has PIN and entered one - verify
                if (pin !== existingPin) {
                    alert('âŒ ×¡×™×¡×× ×©×’×•×™×”');
                    return;
                }
            } else if (pin) {
                // New user setting a PIN
                safeSetItem(`pin_${username}`, pin);
            }
            
            proceedToMainApp(username, rememberMe);
        }
        
        function verifyPin() {
            const username = document.getElementById('pinUsername').textContent;
            const enteredPin = document.getElementById('pinVerification').value.trim();
            const correctPin = safeGetItem(`pin_${username}`);
            
            if (enteredPin === correctPin) {
                proceedToMainApp(username);
            } else {
                alert('âŒ ×¡×™×¡×× ×©×’×•×™×”');
                document.getElementById('pinVerification').value = '';
            }
        }
        
        function backToLogin() {
            document.getElementById('pinScreen').style.display = 'none';
            document.getElementById('loginScreen').style.display = 'block';
            document.getElementById('pinVerification').value = '';
        }
        
        function proceedToMainApp(username, rememberMe = false) {
            currentUsername = username;
            document.getElementById('currentUser').textContent = username;
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('pinScreen').style.display = 'none';
            document.getElementById('mainApp').style.display = 'block';
            
            // Save login session if remember me is checked
            if (rememberMe) {
                const sessionData = {
                    username: username,
                    timestamp: Date.now(),
                    expiresAt: Date.now() + (30 * 24 * 60 * 60 * 1000), // 30 days
                    isGoogleUser: false
                };
                safeSetItem('loginSession', JSON.stringify(sessionData));
            } else {
                // Clear any existing session
                localStorage.removeItem('loginSession');
            }
            
            // Save last username for convenience
            safeSetItem('lastUsername', username);
            
            loadUserData();
            generateCalendar();
            
            // Show login success message if remember me is enabled
            if (rememberMe) {
                setTimeout(() => {
                    alert(`ğŸ‰ ×”×ª×—×‘×¨×ª ×‘×”×¦×œ×—×”!\n\nâœ… ×ª×™×©××¨×™ ××—×•×‘×¨×ª ×œ××©×š 30 ×™××™×\n\nğŸ’¡ ×ª×•×›×œ×™ ×ª××™×“ ×œ×”×ª× ×ª×§ ×™×“× ×™×ª ××”×ª×¤×¨×™×˜ ×”×¦×“`);
                }, 1000);
            }
            

        }
        
        // Data Backup and Restore Functions
        function exportData() {
            if (!currentUsername) {
                alert('×× × ×”×™×›× ×¡×™ ×œ××¢×¨×›×ª ×ª×—×™×œ×”');
                return;
            }
            
            const dataToExport = {
                username: currentUsername,
                exportDate: new Date().toLocaleDateString('he-IL'),
                entries: entries
            };
            
            const dataStr = JSON.stringify(dataToExport, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            const today = new Date();
            const dateStr = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
            link.download = `×’×™×‘×•×™-×™×•××Ÿ-×¨×’×©×™-${currentUsername}-${dateStr}.json`;
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            alert('âœ… ×”×§×•×‘×¥ ×”×•×¨×“ ×‘×”×¦×œ×—×”! \n\nğŸ’¡ ×˜×™×¤: ×©××¨×™ ××ª ×”×§×•×‘×¥ ×‘×’×•×’×œ ×“×¨×™×™×‘, ×“×¨×•×¤×‘×•×§×¡ ××• ×›×œ ×©×™×¨×•×ª ×¢× ×Ÿ ××—×¨ ×›×“×™ ×œ×’×‘×•×ª ××•×ª×•.');
        }
        
        function importData() {
            if (!currentUsername) {
                alert('×× × ×”×™×›× ×¡×™ ×œ××¢×¨×›×ª ×ª×—×™×œ×”');
                return;
            }
            
            document.getElementById('fileInput').click();
        }
        
        function handleFileImport(input) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const importedData = JSON.parse(e.target.result);
                    
                    if (!importedData.entries) {
                        alert('âŒ ×”×§×•×‘×¥ ×œ× ×ª×§×™×Ÿ');
                        return;
                    }
                    
                    if (confirm(`ğŸ“¥ ×”×× ××ª ×¨×•×¦×” ×œ×©×—×–×¨ ××ª ×”× ×ª×•× ×™× ×-${importedData.exportDate || '×’×™×‘×•×™ ×§×•×“×'}?\n\nâš ï¸ ×–×” ×™××—×§ ××ª ×”× ×ª×•× ×™× ×”× ×•×›×—×™×™× ×©×œ ${currentUsername}`)) {
                        entries = importedData.entries;
                        
                        // Save to localStorage
                                    if (!safeSetItem(getUserDataKey(), JSON.stringify(entries))) {
                // Could not save to localStorage
            }
                        
                        generateCalendar();
                        alert('âœ… ×”× ×ª×•× ×™× ×©×•×—×–×¨×• ×‘×”×¦×œ×—×”!');
                    }
                } catch (error) {
                    alert('âŒ ×©×’×™××” ×‘×§×¨×™××ª ×”×§×•×‘×¥. ×× × ×•×“××™ ×©×–×” ×§×•×‘×¥ ×’×™×‘×•×™ ×ª×§×™×Ÿ.');
                }
            };
            
            reader.readAsText(file);
            input.value = ''; // Reset input
        }
        
        // Export to Excel function
        function exportToExcel() {
            if (!currentUsername) {
                alert('×× × ×”×™×›× ×¡×™ ×œ××¢×¨×›×ª ×ª×—×™×œ×”');
                return;
            }
            
            if (Object.keys(entries).length === 0) {
                alert('××™×Ÿ × ×ª×•× ×™× ×œ×™×™×¦×•×');
                return;
            }
            
            // Mood mapping for Excel export
            const moodMapping = {
                'ğŸ˜Š': '×©××—×”',
                'ğŸ˜Œ': '×¨×•×’×¢', 
                'ğŸ’': '×—××œ×”',
                'ğŸ˜¢': '×¢×¦×‘×•×ª',
                'ğŸ˜°': '×¤×—×“',
                'ğŸ˜¤': '×¢×¦×‘× ×•×ª',
                'ğŸ˜«': '×¢×™×™×¤×•×ª',
                'ğŸ˜•': '×‘×œ×‘×•×œ',
                'âš¡': '×—×™×•×ª',
                'ğŸ’ª': '×‘×™×˜×—×•×Ÿ'
            };
            
            let csvContent = "×ª××¨×™×š,××¦×‘ ×¨×•×—,×¨×’×©×•×ª ×•××—×©×‘×•×ª,×”×›×¨×ª ×ª×•×“×”,×”×¢×¨×•×ª ××“×™×˜×¦×™×”,×ª×¦×¤×™×ª,×¨×’×©,×¦×•×¨×š,×‘×§×©×”,××™×š ×”×’×‘×ª×™,××©×”×• ×“×•××” ×‘×¢×‘×¨,×”×¨×’×©×” ××—×¨×™,×”×©×¤×¢×” ×¢×œ ×§×©×¨×™×,×”×©×¤×¢×” ×¢×œ ××—×¨×™×,××” ×œ×©× ×•×ª,×”×¦×¢×“ ×”×‘×,××¢×§×‘ ×”×ª×§×“××•×ª,×¡×™××•×Ÿ ××™×•×—×“\n";
            
            Object.keys(entries).sort().forEach(dateKey => {
                const entry = entries[dateKey];
                // Create a date object and format it correctly without timezone issues
                const dateObj = new Date(dateKey + 'T12:00:00');
                const day = String(dateObj.getDate()).padStart(2, '0');
                const month = String(dateObj.getMonth() + 1).padStart(2, '0');
                const year = dateObj.getFullYear();
                const date = `${day}/${month}/${year}`;
                const mood = moodMapping[entry.selectedMood] || entry.selectedMood || '';
                const feelings = (entry.feelings || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const gratitude = (entry.gratitude || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const meditationNotes = (entry.meditationNotes || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const observation = (entry.observation || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const feeling = (entry.feeling || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const need = (entry.need || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const request = (entry.request || '').replace(/"/g, '""').replace(/\n/g, ' ');
                
                // Pattern analysis fields
                const reactionResponse = (entry.reaction_response || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const similarPast = (entry.similar_past || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const feelingsAfter = (entry.feelings_after || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const impactRelationships = (entry.impact_relationships || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const impactOthers = (entry.impact_others || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const wantToChange = (entry.want_to_change || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const nextStep = (entry.next_step || '').replace(/"/g, '""').replace(/\n/g, ' ');
                const followUpProgress = (entry.follow_up_progress || '').replace(/"/g, '""').replace(/\n/g, ' ');
                
                let specialMark = '';
                if (entry.specialDay === 'significant') specialMark = '×™×•× ××©××¢×•×ª×™ ×‘××¡×¢';
                else if (entry.specialDay === 'review') specialMark = '×™×© ×¢×•×“ ××” ×œ×”×¢××™×§';
                
                csvContent += `"${date}","${mood}","${feelings}","${gratitude}","${meditationNotes}","${observation}","${feeling}","${need}","${request}","${reactionResponse}","${similarPast}","${feelingsAfter}","${impactRelationships}","${impactOthers}","${wantToChange}","${nextStep}","${followUpProgress}","${specialMark}"\n`;
            });
            
            const blob = new Blob(['\uFEFF' + csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            const today = new Date();
            const dateStr = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
            link.download = `×™×•××Ÿ-×¨×’×©×™-${currentUsername}-${dateStr}.csv`;
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            alert('âœ… ×”×§×•×‘×¥ ××§×¡×œ ×”×•×¨×“ ×‘×”×¦×œ×—×”! \n\nğŸ’¡ ×¤×ª×—×™ ××•×ª×• ×‘××§×¡×œ ××• ×‘×’×•×’×œ ×©×™×˜×¡ ×œ×¦×¤×™×™×” ×•×¢×™×‘×•×“ ×”× ×ª×•× ×™×.');
        }
        
        // Help functions
        function showHelp() {
            document.getElementById('helpModal').style.display = 'block';
        }
        
        function closeHelp() {
            document.getElementById('helpModal').style.display = 'none';
        }
        
        function getUserDataKey() {
            return `emotionalCalendar_${currentUsername}`;
        }
        
        // Load user-specific data from localStorage
        function loadUserData() {
            const savedData = safeGetItem(getUserDataKey());
            if (savedData) {
                try {
                    entries = JSON.parse(savedData);
                } catch(e) {
                    // Error parsing saved data, starting fresh
                    entries = {};
                }
            } else {
                entries = {};
            }
        }

        // Side menu controls
        function openMenu() {
            const overlay = document.getElementById('menuOverlay');
            const sideMenu = document.getElementById('sideMenu');
            if (overlay && sideMenu) {
                overlay.style.display = 'block';
                sideMenu.classList.add('open');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeMenu() {
            const overlay = document.getElementById('menuOverlay');
            const sideMenu = document.getElementById('sideMenu');
            if (overlay && sideMenu) {
                overlay.style.display = 'none';
                sideMenu.classList.remove('open');
                document.body.style.overflow = '';
            }
        }
        
        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // load Google scripts in background
            loadGoogleScripts();
            
            // Check for auto login first
            if (!checkAutoLogin()) {
                // Check if there's a saved user for convenience
                const savedUsername = safeGetItem('lastUsername');
                if (savedUsername) {
                    document.getElementById('usernameInput').value = savedUsername;
                }
                
                // Show session status
                const sessionData = safeGetItem('loginSession');
                if (sessionData) {
                    try {
                        const session = JSON.parse(sessionData);
                        const now = Date.now();
                        if (session.expiresAt <= now) {
                                                    // Session expired, clear it
                        localStorage.removeItem('loginSession');
                    }
                } catch (e) {
                    console.error('Error checking session:', e);
                    localStorage.removeItem('loginSession');
                }
                }
            }
            
            // Set up mood and special day selection
            document.querySelectorAll('.mood-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Handle mood selection
                    if (this.dataset.mood) {
                        if (this.classList.contains('selected')) {
                            // If already selected, deselect
                            this.classList.remove('selected');
                        } else {
                            // Otherwise select this and deselect others
                            document.querySelectorAll('.mood-btn[data-mood]').forEach(b => b.classList.remove('selected'));
                            this.classList.add('selected');
                        }
                    }
                    // Handle special day selection
                    if (this.dataset.special) {
                        if (this.classList.contains('selected')) {
                            // If already selected, deselect
                            this.classList.remove('selected');
                        } else {
                            // Otherwise select this and deselect others
                            document.querySelectorAll('.mood-btn[data-special]').forEach(b => b.classList.remove('selected'));
                            this.classList.add('selected');
                        }
                    }
                });
            });
            
            // Allow Enter key in inputs
            document.getElementById('usernameInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    login();
                }
            });
            
            document.getElementById('pinInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    login();
                }
            });
            
            const pinVerificationEl = document.getElementById('pinVerification');
            if (pinVerificationEl) {
                pinVerificationEl.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        verifyPin();
                    }
                });
                
                pinVerificationEl.addEventListener('input', function(e) {
                    this.value = this.value.replace(/[^0-9]/g, '');
                });
            }
            
            // Only allow numbers in PIN fields
            document.getElementById('pinInput').addEventListener('input', function(e) {
                this.value = this.value.replace(/[^0-9]/g, '');
            });
            


            // Close side menu with ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeMenu();
                    // Also close meditations side panel if open
                    const meditationsSidePanel = document.getElementById('meditationsSidePanel');
                    if (meditationsSidePanel && meditationsSidePanel.style.display === 'block') {
                        closeMeditationsSidePanel();
                    }
                    
                    // Also close emotions side panel if open
                    const emotionsSidePanel = document.getElementById('emotionsSidePanel');
                    if (emotionsSidePanel && emotionsSidePanel.style.display === 'block') {
                        closeEmotionsSidePanel();
                    }
                    
                    // Also close needs side panel if open
                    const needsSidePanel = document.getElementById('needsSidePanel');
                    if (needsSidePanel && needsSidePanel.style.display === 'block') {
                        closeNeedsSidePanel();
                    }
                }
            });
            
            // Check session status before page unload
            window.addEventListener('beforeunload', function() {
                const sessionData = safeGetItem('loginSession');
                if (sessionData) {
                    try {
                        const session = JSON.parse(sessionData);
                        const now = Date.now();
                        if (session.expiresAt <= now) {
                            // Session expired, clear it
                            localStorage.removeItem('loginSession');
                        }
                    } catch (e) {
                        console.error('Error checking session before unload:', e);
                        localStorage.removeItem('loginSession');
                    }
                }
            });
            
            // Check session status when page becomes visible
            document.addEventListener('visibilitychange', function() {
                if (!document.hidden) {
                    // Page became visible, check session status
                    const sessionData = safeGetItem('loginSession');
                    if (sessionData) {
                        try {
                            const session = JSON.parse(sessionData);
                            const now = Date.now();
                            if (session.expiresAt <= now) {
                                // Session expired, show login screen
                                alert('âŒ ×ª×•×§×£ ×”×”×ª×—×‘×¨×•×ª ×¤×’. ×× × ×”×ª×—×‘×¨×™ ××—×“×©.');
                                logout();
                            }
                        } catch (e) {
                            console.error('Error checking session on visibility change:', e);
                            localStorage.removeItem('loginSession');
                        }
                    }
                }
            });
            
                                // Sections start collapsed by default - no need to force them open
            const breathingSection = document.getElementById('breathingSection');
            const meditationSection = document.getElementById('meditationSection');
            const cnvcSection = document.getElementById('cnvcSection');
            const patternsSection = document.getElementById('patternsSection');
            
            // Ensure sections start in collapsed state
            if (breathingSection) breathingSection.classList.add('collapsed');
            if (meditationSection) meditationSection.classList.add('collapsed');
            if (cnvcSection) cnvcSection.classList.add('collapsed');
            if (patternsSection) patternsSection.classList.add('collapsed');
        
        // Sections are now collapsible - no need for forced visibility
        });
        
        // Define logout function globally
        window.logout = function() {
            if (confirm('×”×× ××ª ×‘×˜×•×—×” ×©×‘×¨×¦×•× ×š ×œ×”×ª× ×ª×§?')) {
                currentUsername = null;
                entries = {};
                
                // Clear login session
                localStorage.removeItem('loginSession');
                
                // Clear Google session if exists
                if (googleAccessToken) {
                    googleAccessToken = null;
                    googleUser = null;
                }
                
                document.getElementById('mainApp').style.display = 'none';
                document.getElementById('loginScreen').style.display = 'block';
                document.getElementById('usernameInput').value = '';
                document.getElementById('pinInput').value = '';
                
                // Reset remember me checkboxes
                document.getElementById('rememberMeCheckbox').checked = false;
                document.getElementById('rememberMeGoogleCheckbox').checked = false;
                

                
                const pinVerificationEl = document.getElementById('pinVerification');
                if (pinVerificationEl) {
                    pinVerificationEl.value = '';
                }
                closeMenu();
            }
        }
        
        // Close modals when clicking outside
        window.addEventListener('click', function(event) {
            const dayModal = document.getElementById('dayModal');
            const helpModal = document.getElementById('helpModal');
            const meditationsModal = document.getElementById('meditationsModal');
            const emotionsModal = document.getElementById('emotionsModal');
            const needsModal = document.getElementById('needsModal');
            const meditationsSidePanel = document.getElementById('meditationsSidePanel');
            
            if (event.target === dayModal) {
                closeModal();
            }
            if (event.target === helpModal) {
                closeHelp();
            }
            if (event.target === meditationsModal) {
                closeMeditationsLibrary();
            }
            if (event.target === meditationsSidePanel) {
                closeMeditationsSidePanel();
            }
            if (event.target === emotionsModal) {
                closeEmotionsReference();
            }
            if (event.target === emotionsSidePanel) {
                closeEmotionsSidePanel();
            }
            if (event.target === needsModal) {
                closeNeedsReference();
            }
            if (event.target === needsSidePanel) {
                closeNeedsSidePanel();
            }
        });

        function closeNeedsReference() {
            document.getElementById('needsModal').style.display = 'none';
        }
        
        function showMeditationsLibrary() {
            const sidePanel = document.getElementById('meditationsSidePanel');
            sidePanel.style.display = 'block';
            // Add active class after a small delay to trigger animation
            setTimeout(() => {
                sidePanel.classList.add('active');
                // Load saved favorites
                loadSavedFavorites();
            }, 10);
        }
        
        function closeMeditationsSidePanel() {
            const sidePanel = document.getElementById('meditationsSidePanel');
            sidePanel.classList.remove('active');
            // Hide panel after animation completes
            setTimeout(() => {
                sidePanel.style.display = 'none';
            }, 300);
        }
        
        function closeMeditationsLibrary() {
            document.getElementById('meditationsModal').style.display = 'none';
        }
        
        // Favorites functionality
        let showOnlyFavorites = false;
        
        function toggleFavorite(circleElement, meditationName, event) {
            // Prevent event bubbling to parent link
            if (event) {
                event.stopPropagation();
            }
            
            // Toggle favorite state
            if (circleElement.classList.contains('filled')) {
                circleElement.classList.remove('filled');
                circleElement.textContent = 'â˜†';
                removeFavorite(meditationName);
            } else {
                circleElement.classList.add('filled');
                circleElement.textContent = 'â˜…';
                addFavorite(meditationName);
            }
            
            // Update display if filter is active
            if (showOnlyFavorites) {
                showOnlyFavoritesDisplay();
            }
        }
        
        function addFavorite(meditationName) {
            const favorites = getFavorites();
            if (!favorites.includes(meditationName)) {
                favorites.push(meditationName);
                saveFavorites(favorites);
            }
        }
        
        function removeFavorite(meditationName) {
            const favorites = getFavorites();
            const index = favorites.indexOf(meditationName);
            if (index > -1) {
                favorites.splice(index, 1);
                saveFavorites(favorites);
            }
        }
        
        function getFavorites() {
            try {
                const saved = localStorage.getItem('meditationFavorites');
                return saved ? JSON.parse(saved) : [];
            } catch (e) {
                return [];
            }
        }
        
        function saveFavorites(favorites) {
            try {
                localStorage.setItem('meditationFavorites', JSON.stringify(favorites));
            } catch (e) {
                console.error('Failed to save favorites:', e);
            }
        }
        
        function toggleFavoritesFilter() {
            showOnlyFavorites = !showOnlyFavorites;
            const btn = document.getElementById('favoritesFilterBtn');
            
            if (showOnlyFavorites) {
                btn.textContent = '×”×¦×’ ×”×›×œ';
                btn.classList.add('active');
                showOnlyFavoritesDisplay();
            } else {
                btn.textContent = '×”×¦×’ ××•×¢×“×¤×•×ª';
                btn.classList.remove('active');
                showAllMeditations();
            }
        }
        
        function showOnlyFavoritesDisplay() {
            const favorites = getFavorites();
            const allContainers = document.querySelectorAll('.meditations-link-container');
            
            allContainers.forEach(container => {
                // Get the meditation name from the link span (first span inside the link)
                const linkSpan = container.querySelector('.meditations-link span');
                if (linkSpan) {
                    const meditationName = linkSpan.textContent;
                    if (favorites.includes(meditationName)) {
                        container.style.display = 'flex';
                    } else {
                        container.style.display = 'none';
                    }
                }
            });
        }
        
        function showAllMeditations() {
            const allContainers = document.querySelectorAll('.meditations-link-container');
            allContainers.forEach(container => {
                container.style.display = 'flex';
            });
        }
        
        // Load saved favorites on page load
        function loadSavedFavorites() {
            const favorites = getFavorites();
            const allContainers = document.querySelectorAll('.meditations-link-container');
            
            allContainers.forEach(container => {
                const linkSpan = container.querySelector('.meditations-link span');
                const circle = container.querySelector('.favorite-circle');
                
                if (linkSpan && circle) {
                    const meditationName = linkSpan.textContent;
                    if (favorites.includes(meditationName)) {
                        circle.classList.add('filled');
                        circle.textContent = 'â˜…';
                    } else {
                        circle.textContent = 'â˜†';
                    }
                }
            });
        }
        
        // Check if user is already logged in
        function checkAutoLogin() {
            const sessionData = safeGetItem('loginSession');
            if (sessionData) {
                try {
                    const session = JSON.parse(sessionData);
                    const now = Date.now();
                    
                    // Check if session is still valid (not expired)
                    if (session.expiresAt > now) {
                        // Auto login
                        currentUsername = session.username;
                        document.getElementById('currentUser').textContent = session.username;
                        document.getElementById('loginScreen').style.display = 'none';
                        document.getElementById('mainApp').style.display = 'block';
                        
                        loadUserData();
                        generateCalendar();
                        return true;
                    } else {
                        // Session expired, clear it
                        localStorage.removeItem('loginSession');
                    }
                } catch (e) {
                    console.error('Error parsing session data:', e);
                    localStorage.removeItem('loginSession');
                }
            }
            return false;
        }
        
        // Safe localStorage wrapper functions
        function safeGetItem(key) {
            try {
                return localStorage.getItem(key);
            } catch (e) {
                console.error('Error accessing localStorage:', e);
                return null;
            }
        }

        function safeSetItem(key, value) {
            try {
                localStorage.setItem(key, value);
            } catch (e) {
                console.error('Error setting localStorage:', e);
            }
        }

        // PWA Installation
        let deferredPrompt;

        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent Chrome 67 and earlier from automatically showing the prompt
            e.preventDefault();
            // Stash the event so it can be triggered later
            deferredPrompt = e;
            
            // Show install button or notification
            showInstallPrompt();
        });

        function showInstallPrompt() {
            // Create install button if it doesn't exist
            if (!document.getElementById('installButton')) {
                const installButton = document.createElement('button');
                installButton.id = 'installButton';
                installButton.textContent = 'ğŸ“± ×”×ª×§×Ÿ ××¤×œ×™×§×¦×™×”';
                installButton.style.cssText = `
                    position: fixed;
                    top: 20px;
                    left: 20px;
                    background: #8cb89c;
                    color: white;
                    border: none;
                    padding: 12px 20px;
                    border-radius: 25px;
                    font-size: 14px;
                    cursor: pointer;
                    z-index: 10000;
                    box-shadow: 0 4px 12px rgba(140, 184, 156, 0.3);
                    transition: all 0.3s ease;
                `;
                
                installButton.addEventListener('click', installApp);
                installButton.addEventListener('mouseenter', () => {
                    installButton.style.transform = 'translateY(-2px)';
                    installButton.style.boxShadow = '0 6px 16px rgba(140, 184, 156, 0.4)';
                });
                installButton.addEventListener('mouseleave', () => {
                    installButton.style.transform = 'translateY(0)';
                    installButton.style.boxShadow = '0 4px 12px rgba(140, 184, 156, 0.3)';
                });
                
                document.body.appendChild(installButton);
                
                // Auto-hide after 10 seconds
                setTimeout(() => {
                    if (installButton.parentNode) {
                        installButton.style.opacity = '0';
                        setTimeout(() => {
                            if (installButton.parentNode) {
                                installButton.remove();
                            }
                        }, 300);
                    }
                }, 10000);
            }
        }

        function installApp() {
            if (deferredPrompt) {
                // Show the install prompt
                deferredPrompt.prompt();
                
                // Wait for the user to respond to the prompt
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted the install prompt');
                    } else {
                        console.log('User dismissed the install prompt');
                    }
                    deferredPrompt = null;
                    
                    // Hide the install button
                    const installButton = document.getElementById('installButton');
                    if (installButton) {
                        installButton.remove();
                    }
                });
            }
        }

        // Register Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // Check if user is already logged in
        function checkAutoLogin() {
            const sessionData = safeGetItem('loginSession');
            if (sessionData) {
                try {
                    const session = JSON.parse(sessionData);
                    const now = Date.now();
                    
                    // Check if session is still valid (not expired)
                    if (session.expiresAt > now) {
                        // Auto login
                        currentUsername = session.username;
                        document.getElementById('currentUser').textContent = session.username;
                        document.getElementById('loginScreen').style.display = 'none';
                        document.getElementById('mainApp').style.display = 'block';
                        
                        loadUserData();
                        generateCalendar();
                        return true;
                    } else {
                        // Session expired, clear it
                        localStorage.removeItem('loginSession');
                    }
                } catch (e) {
                    console.error('Error parsing session data:', e);
                    localStorage.removeItem('loginSession');
                }
            }
            return false;
        }

    </script>
</body>
</html>


